<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authentication and Authorization | Remult</title>
    <meta name="description" content="Build Full-stack, End-to-end Type-safe CRUD Apps without the Boilerplate">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.F7EtbYLB.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CU-7l1FS.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DhRI3c_8.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DdPzwmCl.js">
    <link rel="modulepreload" href="/assets/tutorials_react_auth.md.BTs1Z2BT.lean.js">
    <link href="/favicon.png" rel="icon" type="image/png">
    <link href="/favicon.png" rel="apple-touch-icon" sizes="128x128">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RBX0REXJT3"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-RBX0REXJT3");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><!--[--><!--[--><img class="VPImage dark logo" src="/logo-white.svg" alt data-v-ab19afbb><!--]--><!--[--><img class="VPImage light logo" src="/logo-dark.svg" alt data-v-ab19afbb><!--]--><!--]--><!--]--><span data-v-9f43907a>Remult</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Documentation</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>Tutorials</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/tutorials/react/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>React</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/tutorials/angular/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Angular</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/tutorials/vue/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Vue</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/tutorials/sveltekit/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SvelteKit</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/tutorials/react-next/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Next.js</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/tutorials/solid-start/" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>SolidStart</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/RemultJs" aria-label="x" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/@remult6539" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/GXHk7ZfuG5" aria-label="discord" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://github.com/remult/remult" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/RemultJs" aria-label="x" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/@remult6539" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/GXHk7ZfuG5" aria-label="discord" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://github.com/remult/remult" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Tutorial</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Setup</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/entities" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Entities</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/sorting-filtering" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Paging, Sorting and Filtering</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/crud" data-v-0009425e><!--[--><p class="text" data-v-0009425e>CRUD Operations</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/validation" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Validation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/live-queries" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Live Queries</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/backend-methods" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Backend methods</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/auth" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Authentication and Authorization</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/database" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Database</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/tutorials/react/deployment" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Deployment</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _tutorials_react_auth" data-v-e6f2a212><div><h1 id="authentication-and-authorization" tabindex="-1">Authentication and Authorization <a class="header-anchor" href="#authentication-and-authorization" aria-label="Permalink to &quot;Authentication and Authorization&quot;">​</a></h1><p>Our todo app is nearly functionally complete, but it still doesn&#39;t fulfill a very basic requirement - that users should log in before they can view, create or modify tasks.</p><p>Remult provides a flexible mechanism that enables placing <strong>code-based authorization rules</strong> at various levels of the application&#39;s API. To maintain high code cohesion, <strong>entity and field-level authorization code should be placed in entity classes</strong>.</p><p><strong>Remult is completely unopinionated when it comes to user authentication.</strong> You are free to use any kind of authentication mechanism, and only required to provide Remult with an object which implements the Remult <code>UserInfo</code> interface.</p><p>In this tutorial, we&#39;ll use <code>Express</code>&#39;s <a href="https://expressjs.com/en/resources/middleware/cookie-session.html" target="_blank" rel="noreferrer">cookie-session</a> middleware to store an authenticated user&#39;s session within a cookie. The <code>user</code> property of the session will be set by the API server upon a successful simplistic sign-in (based on username without password).</p><h2 id="tasks-crud-requires-sign-in" tabindex="-1">Tasks CRUD Requires Sign-in <a class="header-anchor" href="#tasks-crud-requires-sign-in" aria-label="Permalink to &quot;Tasks CRUD Requires Sign-in&quot;">​</a></h2><p>This rule is implemented within the <code>Task</code> <code>@Entity</code> decorator, by modifying the value of the <code>allowApiCrud</code> property. This property can be set to a function that accepts a <code>Remult</code> argument and returns a <code>boolean</code> value. Let&#39;s use the <code>Allow.authenticated</code> function from Remult.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/shared/Task.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#7AA2F7;">Entity</span><span style="color:#9ABDF5;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">tasks</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#73DACA;">    allowApiCrud</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> Allow</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">authenticated</span></span>
<span class="line"><span style="color:#9ABDF5;">})</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Import Allow</p><p>This code requires adding an import of <code>Allow</code> from <code>remult</code>.</p></div><p>After the browser refreshes, <strong>the list of tasks disappeared</strong> and the user can no longer create new tasks.</p><details class="details custom-block"><summary>Inspect the HTTP error returned by the API using cURL</summary><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#C0CAF5;">curl</span><span style="color:#E0AF68;"> -i</span><span style="color:#9ECE6A;"> http://localhost:3002/api/tasks</span></span></code></pre></div></details><div class="danger custom-block"><p class="custom-block-title">Authorized server-side code can still modify tasks</p><p>Although client CRUD requests to <code>tasks</code> API endpoints now require a signed-in user, the API endpoint created for our <code>setAllCompleted</code> server function remains available to unauthenticated requests. Since the <code>allowApiCrud</code> rule we implemented does not affect the server-side code&#39;s ability to use the <code>Task</code> entity class for performing database CRUD operations, <strong>the <code>setAllCompleted</code> function still works as before</strong>.</p><p>To fix this, let&#39;s implement the same rule using the <code>@BackendMethod</code> decorator of the <code>setAllCompleted</code> method of <code>TasksController</code>.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/shared/TasksController.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#7AA2F7;">BackendMethod</span><span style="color:#9ABDF5;">({</span><span style="color:#73DACA;"> allowed</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> Allow</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">authenticated</span><span style="color:#9ABDF5;"> })</span></span></code></pre></div><p><strong>This code requires adding an import of <code>Allow</code> from <code>remult</code>.</strong></p></div><h2 id="user-authentication" tabindex="-1">User Authentication <a class="header-anchor" href="#user-authentication" aria-label="Permalink to &quot;User Authentication&quot;">​</a></h2><p>Let&#39;s add a sign-in area to the todo app, with an <code>input</code> for typing in a <code>username</code> and a sign-in <code>button</code>. The app will have two valid <code>username</code> values - <em>&quot;Jane&quot;</em> and <em>&quot;Steve&quot;</em>. After a successful sign-in, the sign-in area will be replaced by a &quot;Hi [username]&quot; message.</p><h3 id="backend-setup" tabindex="-1">Backend setup <a class="header-anchor" href="#backend-setup" aria-label="Permalink to &quot;Backend setup&quot;">​</a></h3><ol><li>Open a terminal and run the following command to install the required packages:</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#C0CAF5;">npm</span><span style="color:#9ECE6A;"> i</span><span style="color:#9ECE6A;"> cookie-session</span></span>
<span class="line"><span style="color:#C0CAF5;">npm</span><span style="color:#9ECE6A;"> i</span><span style="color:#E0AF68;"> --save-dev</span><span style="color:#9ECE6A;"> @types/cookie-session</span></span></code></pre></div><ol start="2"><li><p>Modify the main server module <code>index.ts</code> to use the <code>cookie-session</code> Express middleware.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/server/index.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">//...</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#7DCFFF;">import</span><span style="color:#0DB9D7;"> session</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">cookie-session</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">const</span><span style="color:#BB9AF7;"> app</span><span style="color:#89DDFF;"> =</span><span style="color:#7AA2F7;"> express</span><span style="color:#9ABDF5;">()</span></span>
<span class="line highlighted"><span style="color:#C0CAF5;">app</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">use</span><span style="color:#9ABDF5;">(</span></span>
<span class="line highlighted"><span style="color:#7AA2F7;">  session</span><span style="color:#9ABDF5;">({</span></span>
<span class="line highlighted"><span style="color:#73DACA;">    secret</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">env</span><span style="color:#9ABDF5;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">SESSION_SECRET</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ABDF5;">]</span><span style="color:#BB9AF7;"> ||</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">my secret</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">  })</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">//...</span></span></code></pre></div><p>The <code>cookie-session</code> middleware stores session data, digitally signed using the value of the <code>secret</code> property, in an <code>httpOnly</code> cookie, sent by the browser to all subsequent API requests.</p></li><li><p>add a <code>shared/AuthController.ts</code> file and include the following code:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/shared/AuthController.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#9ABDF5;"> { </span><span style="color:#0DB9D7;">BackendMethod</span><span style="color:#89DDFF;">,</span><span style="color:#0DB9D7;"> remult</span><span style="color:#9ABDF5;"> }</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#9ECE6A;">remult</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line highlighted"><span style="color:#7DCFFF;">import</span><span style="color:#BB9AF7;"> type</span><span style="color:#0DB9D7;"> express</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#9ECE6A;">express</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line highlighted"><span style="color:#51597D;font-style:italic;">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span></span>
<span class="line highlighted"><span style="color:#7DCFFF;">import</span><span style="color:#BB9AF7;"> type</span><span style="color:#0DB9D7;"> from</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#9ECE6A;">cookie-session</span><span style="color:#89DDFF;">&#39;</span><span style="color:#51597D;font-style:italic;"> // required to access the session member of the request object</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#0DB9D7;">declare</span><span style="color:#0DB9D7;"> module</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#9ECE6A;">remult</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#0DB9D7;">  export</span><span style="color:#0DB9D7;"> interface</span><span style="color:#0DB9D7;"> RemultContext</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#0DB9D7;">    request</span><span style="color:#9ABDF5;">?: </span><span style="color:#0DB9D7;">express</span><span style="color:#9ABDF5;">.</span><span style="color:#0DB9D7;">Request</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">  }</span></span>
<span class="line highlighted"><span style="color:#A9B1D6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#0DB9D7;">export</span><span style="color:#0DB9D7;"> class</span><span style="color:#0DB9D7;"> AuthController</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#51597D;font-style:italic;">  //</span></span>
<span class="line"><span style="color:#9ABDF5;">}</span></span></code></pre></div><h3 id="code-explanation" tabindex="-1">Code Explanation <a class="header-anchor" href="#code-explanation" aria-label="Permalink to &quot;Code Explanation&quot;">​</a></h3><ul><li>We import the necessary modules from <code>remult</code> and types for <code>express</code> and <code>cookie-session</code>.</li><li>We extend the <code>RemultContext</code> interface to include an optional <code>request</code> property of type <code>express.Request</code>.</li><li>Remult will automatically set the <code>request</code> with the current request. Since Remult works with any server framework, we need to type it to the correct server, which in this case is Express. This typing gives us access to the request object and its session, managed by <code>cookie-session</code>.</li><li>This <code>request</code> can be accessed using <code>remult.context.request</code>.</li></ul><p>Next, we&#39;ll add a static list of users and a sign-in method. (In a real application, you would use a database, but for this tutorial, a static list will suffice.)</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line highlighted"><span style="color:#9D7CD8;font-style:italic;">const</span><span style="color:#BB9AF7;"> validUsers</span><span style="color:#89DDFF;"> =</span><span style="color:#9ABDF5;"> [{</span><span style="color:#73DACA;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#9ECE6A;">Jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ABDF5;"> }</span><span style="color:#89DDFF;">,</span><span style="color:#9ABDF5;"> {</span><span style="color:#73DACA;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#9ECE6A;">Alex</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ABDF5;"> }]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7DCFFF;">export</span><span style="color:#BB9AF7;"> class</span><span style="color:#C0CAF5;"> AuthController</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  @</span><span style="color:#7AA2F7;">BackendMethod</span><span style="color:#9ABDF5;">({</span><span style="color:#73DACA;"> allowed</span><span style="color:#89DDFF;">:</span><span style="color:#FF9E64;"> true</span><span style="color:#9ABDF5;"> })</span></span>
<span class="line highlighted"><span style="color:#9D7CD8;font-style:italic;">  static</span><span style="color:#9D7CD8;font-style:italic;"> async</span><span style="color:#7AA2F7;"> signIn</span><span style="color:#9ABDF5;">(</span><span style="color:#E0AF68;">name</span><span style="color:#89DDFF;">:</span><span style="color:#0DB9D7;"> string</span><span style="color:#9ABDF5;">)</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#9D7CD8;font-style:italic;">    const</span><span style="color:#BB9AF7;"> user</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> validUsers</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">find</span><span style="color:#9ABDF5;">((</span><span style="color:#E0AF68;">user</span><span style="color:#9ABDF5;">) </span><span style="color:#BB9AF7;">=&gt;</span><span style="color:#C0CAF5;"> user</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">name</span><span style="color:#BB9AF7;"> ===</span><span style="color:#C0CAF5;"> name</span><span style="color:#9ABDF5;">)</span></span>
<span class="line highlighted"><span style="color:#BB9AF7;">    if</span><span style="color:#9ABDF5;"> (</span><span style="color:#C0CAF5;">user</span><span style="color:#9ABDF5;">) {</span></span>
<span class="line highlighted"><span style="color:#C0CAF5;">      remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span><span style="color:#89DDFF;"> =</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#73DACA;">        id</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> user</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#73DACA;">        name</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> user</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">      }</span></span>
<span class="line highlighted"><span style="color:#C0CAF5;">      remult</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">context</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">request</span><span style="color:#BB9AF7;">!</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">session</span><span style="color:#BB9AF7;">!</span><span style="color:#9ABDF5;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ECE6A;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ABDF5;">] </span><span style="color:#89DDFF;">=</span><span style="color:#C0CAF5;"> remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span></span>
<span class="line highlighted"><span style="color:#BB9AF7;font-style:italic;">      return</span><span style="color:#C0CAF5;"> remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">    } </span><span style="color:#BB9AF7;">else</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#BB9AF7;">      throw</span><span style="color:#7AA2F7;"> Error</span><span style="color:#9ABDF5;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Invalid user, try &#39;Alex&#39; or &#39;Jane&#39;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ABDF5;">)</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">    }</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">  }</span></span>
<span class="line"><span style="color:#9ABDF5;">}</span></span></code></pre></div><h3 id="code-explanation-1" tabindex="-1">Code Explanation <a class="header-anchor" href="#code-explanation-1" aria-label="Permalink to &quot;Code Explanation&quot;">​</a></h3><ul><li>We define a static list of valid users.</li><li>The <code>signIn</code> method is decorated with <code>@BackendMethod({ allowed: true })</code>, making it accessible from the frontend.</li><li>The method checks if the provided <code>name</code> exists in the <code>validUsers</code> list. If it does, it sets <code>remult.user</code> to an object that conforms to the <code>UserInfo</code> type from Remult and stores this user in the request session.</li><li>If the user is not found, it throws an error.</li></ul><p>Next, we&#39;ll add the sign-out method:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#7DCFFF;">export</span><span style="color:#BB9AF7;"> class</span><span style="color:#C0CAF5;"> AuthController</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  @</span><span style="color:#7AA2F7;">BackendMethod</span><span style="color:#9ABDF5;">({</span><span style="color:#73DACA;"> allowed</span><span style="color:#89DDFF;">:</span><span style="color:#FF9E64;"> true</span><span style="color:#9ABDF5;"> })</span></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">  static</span><span style="color:#9D7CD8;font-style:italic;"> async</span><span style="color:#7AA2F7;"> signIn</span><span style="color:#9ABDF5;">(</span><span style="color:#E0AF68;">name</span><span style="color:#89DDFF;">:</span><span style="color:#0DB9D7;"> string</span><span style="color:#9ABDF5;">)</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#51597D;font-style:italic;">    //...</span></span>
<span class="line"><span style="color:#9ABDF5;">  }</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#89DDFF;">  @</span><span style="color:#7AA2F7;">BackendMethod</span><span style="color:#9ABDF5;">({</span><span style="color:#73DACA;"> allowed</span><span style="color:#89DDFF;">:</span><span style="color:#FF9E64;"> true</span><span style="color:#9ABDF5;"> })</span></span>
<span class="line highlighted"><span style="color:#9D7CD8;font-style:italic;">  static</span><span style="color:#9D7CD8;font-style:italic;"> async</span><span style="color:#7AA2F7;"> signOut</span><span style="color:#9ABDF5;">()</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line highlighted"><span style="color:#C0CAF5;">    remult</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">context</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">request</span><span style="color:#BB9AF7;">!</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">session</span><span style="color:#BB9AF7;">!</span><span style="color:#9ABDF5;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ECE6A;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ABDF5;">] </span><span style="color:#89DDFF;">=</span><span style="color:#FF9E64;"> undefined</span></span>
<span class="line highlighted"><span style="color:#BB9AF7;font-style:italic;">    return</span><span style="color:#FF9E64;"> undefined</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">  }</span></span>
<span class="line"><span style="color:#9ABDF5;">}</span></span></code></pre></div><ul><li>The <code>signOut</code> method clears the user session, making the user unauthenticated.</li></ul></li><li><p>Update <code>remultApi</code> configuration.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/server/api.ts</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#7DCFFF;">import</span><span style="color:#9ABDF5;"> { </span><span style="color:#0DB9D7;">AuthController</span><span style="color:#9ABDF5;"> }</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#9ECE6A;">../shared/AuthController.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#7DCFFF;">export</span><span style="color:#9D7CD8;font-style:italic;"> const</span><span style="color:#BB9AF7;"> api</span><span style="color:#89DDFF;"> =</span><span style="color:#7AA2F7;"> remultApi</span><span style="color:#9ABDF5;">({</span></span>
<span class="line highlighted"><span style="color:#51597D;font-style:italic;">  //...</span></span>
<span class="line"><span style="color:#73DACA;">  controllers</span><span style="color:#89DDFF;">:</span><span style="color:#9ABDF5;"> [</span><span style="color:#7DCFFF;">TaskController</span><span style="color:#89DDFF;">,</span><span style="color:#7DCFFF;"> AuthController</span><span style="color:#9ABDF5;">]</span></span>
<span class="line"><span style="color:#C0CAF5;">  getUser</span><span style="color:#A9B1D6;">: </span><span style="color:#9ABDF5;">(</span><span style="color:#E0AF68;">req</span><span style="color:#9ABDF5;">)</span><span style="color:#BB9AF7;"> =&gt;</span><span style="color:#C0CAF5;"> req</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">session</span><span style="color:#BB9AF7;">!</span><span style="color:#9ABDF5;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ECE6A;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#9ABDF5;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#9ABDF5;">})</span></span></code></pre></div><h3 id="code-explanation-2" tabindex="-1">Code Explanation <a class="header-anchor" href="#code-explanation-2" aria-label="Permalink to &quot;Code Explanation&quot;">​</a></h3><ul><li>Register the <code>AuthController</code> so that the frontend can call its <code>signIn</code> and <code>signOut</code> methods</li><li><code>getUser</code> function: The getUser function is responsible for extracting the user information from the session. If a user is found in the session, Remult will treat the request as authenticated, and this user will be used for authorization purposes.</li></ul></li></ol><h3 id="frontend-setup" tabindex="-1">Frontend setup <a class="header-anchor" href="#frontend-setup" aria-label="Permalink to &quot;Frontend setup&quot;">​</a></h3><ol><li><p>Create a file <code>src/Auth.tsx</code> and place the following <code>Auth</code> component code in it:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/Auth.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#9ABDF5;"> { </span><span style="color:#0DB9D7;">FormEvent</span><span style="color:#89DDFF;">,</span><span style="color:#0DB9D7;"> useEffect</span><span style="color:#89DDFF;">,</span><span style="color:#0DB9D7;"> useState</span><span style="color:#9ABDF5;"> }</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">react</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#9ABDF5;"> { </span><span style="color:#0DB9D7;">remult</span><span style="color:#9ABDF5;"> }</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">remult</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#0DB9D7;"> App</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">./App</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#9ABDF5;"> { </span><span style="color:#0DB9D7;">AuthController</span><span style="color:#9ABDF5;"> }</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">./shared/AuthController</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7DCFFF;">export</span><span style="color:#7DCFFF;"> default</span><span style="color:#BB9AF7;"> function</span><span style="color:#7AA2F7;"> Auth</span><span style="color:#9ABDF5;">()</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">  const</span><span style="color:#89DDFF;"> [</span><span style="color:#BB9AF7;">username</span><span style="color:#89DDFF;">,</span><span style="color:#BB9AF7;"> setUsername</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#7AA2F7;"> useState</span><span style="color:#9ABDF5;">(</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">  const</span><span style="color:#89DDFF;"> [</span><span style="color:#BB9AF7;">signedIn</span><span style="color:#89DDFF;">,</span><span style="color:#BB9AF7;"> setSignedIn</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#7AA2F7;"> useState</span><span style="color:#9ABDF5;">(</span><span style="color:#FF9E64;">false</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">  async</span><span style="color:#BB9AF7;"> function</span><span style="color:#7AA2F7;"> signIn</span><span style="color:#9ABDF5;">(</span><span style="color:#E0AF68;">e</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> FormEvent</span><span style="color:#9ABDF5;">) {</span></span>
<span class="line"><span style="color:#C0CAF5;">    e</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">preventDefault</span><span style="color:#9ABDF5;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BB9AF7;">    try</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#C0CAF5;">      remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span><span style="color:#89DDFF;"> =</span><span style="color:#BB9AF7;font-style:italic;"> await</span><span style="color:#C0CAF5;"> AuthController</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">signIn</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">username</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#7AA2F7;">      setSignedIn</span><span style="color:#9ABDF5;">(</span><span style="color:#FF9E64;">true</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">    } </span><span style="color:#BB9AF7;">catch</span><span style="color:#9ABDF5;"> (</span><span style="color:#E0AF68;">error</span><span style="color:#89DDFF;">:</span><span style="color:#0DB9D7;"> unknown</span><span style="color:#9ABDF5;">) {</span></span>
<span class="line"><span style="color:#7AA2F7;">      alert</span><span style="color:#9ABDF5;">((</span><span style="color:#C0CAF5;">error</span><span style="color:#89DDFF;"> as</span><span style="color:#9ABDF5;"> { </span><span style="color:#73DACA;">message</span><span style="color:#89DDFF;">:</span><span style="color:#0DB9D7;"> string</span><span style="color:#9ABDF5;"> })</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">message</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">    }</span></span>
<span class="line"><span style="color:#9ABDF5;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">  async</span><span style="color:#BB9AF7;"> function</span><span style="color:#7AA2F7;"> signOut</span><span style="color:#9ABDF5;">() {</span></span>
<span class="line"><span style="color:#BB9AF7;font-style:italic;">    await</span><span style="color:#C0CAF5;"> AuthController</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">signOut</span><span style="color:#9ABDF5;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C0CAF5;">    remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span><span style="color:#89DDFF;"> =</span><span style="color:#FF9E64;"> undefined</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#7AA2F7;">    setSignedIn</span><span style="color:#9ABDF5;">(</span><span style="color:#FF9E64;">false</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">  }</span></span>
<span class="line"><span style="color:#7AA2F7;">  useEffect</span><span style="color:#9ABDF5;">(() </span><span style="color:#BB9AF7;">=&gt;</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#C0CAF5;">    remult</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">initUser</span><span style="color:#9ABDF5;">()</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">then</span><span style="color:#9ABDF5;">(() </span><span style="color:#BB9AF7;">=&gt;</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#7AA2F7;">      setSignedIn</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">remult</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">authenticated</span><span style="color:#9ABDF5;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">    })</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">  }</span><span style="color:#89DDFF;">,</span><span style="color:#9ABDF5;"> [])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BB9AF7;">  if</span><span style="color:#9ABDF5;"> (</span><span style="color:#BB9AF7;">!</span><span style="color:#C0CAF5;">signedIn</span><span style="color:#9ABDF5;">)</span></span>
<span class="line"><span style="color:#BB9AF7;font-style:italic;">    return</span><span style="color:#9ABDF5;"> (</span></span>
<span class="line"><span style="color:#BB9AF7;">      &lt;&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">        &lt;</span><span style="color:#C0CAF5;">h1</span><span style="color:#9ABDF5;">&gt;</span><span style="color:#C0CAF5;">Todos</span><span style="color:#BB9AF7;">&lt;</span><span style="color:#89DDFF;">/</span><span style="color:#C0CAF5;">h1</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">        &lt;</span><span style="color:#C0CAF5;">main</span><span style="color:#9ABDF5;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">          &lt;</span><span style="color:#C0CAF5;">form</span><span style="color:#C0CAF5;"> onSubmit</span><span style="color:#89DDFF;">=</span><span style="color:#9ABDF5;">{</span><span style="color:#C0CAF5;">signIn</span><span style="color:#9ABDF5;">}</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">            &lt;</span><span style="color:#E0AF68;">input</span></span>
<span class="line"><span style="color:#C0CAF5;">              value</span><span style="color:#89DDFF;">=</span><span style="color:#9ABDF5;">{</span><span style="color:#C0CAF5;">username</span><span style="color:#9ABDF5;">}</span></span>
<span class="line"><span style="color:#C0CAF5;">              onChange</span><span style="color:#89DDFF;">=</span><span style="color:#9ABDF5;">{(e) =&gt; </span><span style="color:#7AA2F7;">setUsername</span><span style="color:#9ABDF5;">(e.target.value)}</span></span>
<span class="line"><span style="color:#C0CAF5;">              placeholder</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Username, try Steve or Jane</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">            /</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">            &lt;</span><span style="color:#C0CAF5;">button</span><span style="color:#9ABDF5;">&gt;</span><span style="color:#C0CAF5;">Sign</span><span style="color:#89DDFF;"> in</span><span style="color:#BB9AF7;">&lt;</span><span style="color:#89DDFF;">/</span><span style="color:#C0CAF5;">button</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">          &lt;</span><span style="color:#89DDFF;">/</span><span style="color:#C0CAF5;">form</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">        &lt;</span><span style="color:#89DDFF;">/</span><span style="color:#C0CAF5;">main</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">      &lt;</span><span style="color:#89DDFF;">/</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BB9AF7;font-style:italic;">  return</span><span style="color:#9ABDF5;"> (</span></span>
<span class="line"><span style="color:#BB9AF7;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">      &lt;</span><span style="color:#C0CAF5;">header</span><span style="color:#9ABDF5;">&gt;</span></span>
<span class="line"><span style="color:#C0CAF5;">        Hello</span><span style="color:#89DDFF;"> {</span><span style="color:#E0AF68;">remult</span><span style="color:#9ABDF5;">.</span><span style="color:#E0AF68;">user</span><span style="color:#9ABDF5;">!.</span><span style="color:#E0AF68;">name</span><span style="color:#89DDFF;">}</span><span style="color:#BB9AF7;"> &lt;</span><span style="color:#C0CAF5;">button</span><span style="color:#C0CAF5;"> onClick</span><span style="color:#89DDFF;">=</span><span style="color:#9ABDF5;">{</span><span style="color:#C0CAF5;">signOut</span><span style="color:#9ABDF5;">}</span><span style="color:#BB9AF7;">&gt;</span><span style="color:#C0CAF5;">Sign</span><span style="color:#C0CAF5;"> Out</span><span style="color:#BB9AF7;">&lt;</span><span style="color:#89DDFF;">/</span><span style="color:#C0CAF5;">button</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">      &lt;</span><span style="color:#89DDFF;">/</span><span style="color:#C0CAF5;">header</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">      &lt;</span><span style="color:#C0CAF5;">App</span><span style="color:#89DDFF;"> /</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">    &lt;</span><span style="color:#89DDFF;">/</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">}</span></span></code></pre></div></li><li><p>In the <code>main.tsx</code> file, Replace the <code>App</code> component with the <code>Auth</code> component.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/main.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#0DB9D7;"> React</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">react</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#0DB9D7;"> ReactDOM</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">react-dom/client</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#7DCFFF;">import</span><span style="color:#0DB9D7;"> Auth</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">./Auth</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">./index.css</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C0CAF5;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">createRoot</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">document</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">getElementById</span><span style="color:#9ABDF5;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;"> as</span><span style="color:#C0CAF5;"> HTMLElement</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">render</span><span style="color:#9ABDF5;">(</span></span>
<span class="line"><span style="color:#BB9AF7;">  &lt;</span><span style="color:#C0CAF5;">React</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">StrictMode</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line highlighted"><span style="color:#BB9AF7;">    &lt;</span><span style="color:#C0CAF5;">Auth</span><span style="color:#89DDFF;"> /</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;">  &lt;</span><span style="color:#89DDFF;">/</span><span style="color:#C0CAF5;">React</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">StrictMode</span><span style="color:#BB9AF7;">&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">)</span></span></code></pre></div></li></ol><p>The todo app now supports signing in and out, with <strong>all access restricted to signed in users only</strong>.</p><h2 id="role-based-authorization" tabindex="-1">Role-based Authorization <a class="header-anchor" href="#role-based-authorization" aria-label="Permalink to &quot;Role-based Authorization&quot;">​</a></h2><p>Usually, not all application users have the same privileges. Let&#39;s define an <code>admin</code> role for our todo app, and enforce the following authorization rules:</p><ul><li>All signed in users can see the list of tasks.</li><li>All signed in users can set specific tasks as <code>completed</code>.</li><li>Only users belonging to the <code>admin</code> role can create, delete or edit the titles of tasks.</li></ul><ol><li>Modify the highlighted lines in the <code>Task</code> entity class to reflect the top three authorization rules.</li></ol><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/shared/Task.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7DCFFF;">import</span><span style="color:#9ABDF5;"> { </span><span style="color:#0DB9D7;">Allow</span><span style="color:#89DDFF;">,</span><span style="color:#0DB9D7;"> Entity</span><span style="color:#89DDFF;">,</span><span style="color:#0DB9D7;"> Fields</span><span style="color:#89DDFF;">,</span><span style="color:#0DB9D7;"> Validators</span><span style="color:#9ABDF5;"> }</span><span style="color:#7DCFFF;"> from</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">remult</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#7AA2F7;">Entity</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C0CAF5;">Task</span><span style="color:#89DDFF;">&gt;</span><span style="color:#9ABDF5;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">tasks</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#73DACA;">  allowApiCrud</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> Allow</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">authenticated</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#73DACA;">  allowApiInsert</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">admin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#73DACA;">  allowApiDelete</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">admin</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#9ABDF5;">})</span></span>
<span class="line"><span style="color:#7DCFFF;">export</span><span style="color:#BB9AF7;"> class</span><span style="color:#C0CAF5;"> Task</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  @</span><span style="color:#C0CAF5;">Fields</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">uuid</span><span style="color:#9ABDF5;">()</span></span>
<span class="line"><span style="color:#73DACA;">  id</span><span style="color:#89DDFF;">!:</span><span style="color:#0DB9D7;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  @</span><span style="color:#C0CAF5;">Fields</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">string</span><span style="color:#9ABDF5;">({</span></span>
<span class="line"><span style="color:#7AA2F7;">    validate</span><span style="color:#89DDFF;">:</span><span style="color:#9ABDF5;"> (</span><span style="color:#E0AF68;">task</span><span style="color:#9ABDF5;">)</span><span style="color:#BB9AF7;"> =&gt;</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#BB9AF7;">      if</span><span style="color:#9ABDF5;"> (</span><span style="color:#C0CAF5;">task</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">title</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">length</span><span style="color:#BB9AF7;"> &lt;</span><span style="color:#FF9E64;"> 3</span><span style="color:#9ABDF5;">) </span><span style="color:#BB9AF7;">throw</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Too Short</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#9ABDF5;">    }</span></span>
<span class="line highlighted"><span style="color:#C0CAF5;">    allowApiUpdate</span><span style="color:#A9B1D6;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">admin</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#9ABDF5;">  })</span></span>
<span class="line"><span style="color:#73DACA;">  title</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> &quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  @</span><span style="color:#C0CAF5;">Fields</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">boolean</span><span style="color:#9ABDF5;">()</span></span>
<span class="line"><span style="color:#73DACA;">  completed</span><span style="color:#89DDFF;"> =</span><span style="color:#FF9E64;"> false</span></span>
<span class="line"><span style="color:#9ABDF5;">}</span></span></code></pre></div><ol start="2"><li>Let&#39;s give the user <em>&quot;Jane&quot;</em> the <code>admin</code> role by modifying the <code>roles</code> array of her <code>validUsers</code> entry.</li></ol><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/shared/AuthController.ts</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#9D7CD8;font-style:italic;">const</span><span style="color:#BB9AF7;"> validUsers</span><span style="color:#89DDFF;"> =</span><span style="color:#9ABDF5;"> [{</span><span style="color:#73DACA;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Jane</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#73DACA;"> admin</span><span style="color:#89DDFF;">:</span><span style="color:#FF9E64;"> true</span><span style="color:#9ABDF5;"> }</span><span style="color:#89DDFF;">,</span><span style="color:#9ABDF5;"> {</span><span style="color:#73DACA;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Steve</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ABDF5;"> }]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7DCFFF;">export</span><span style="color:#BB9AF7;"> class</span><span style="color:#C0CAF5;"> AuthController</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  @</span><span style="color:#7AA2F7;">BackendMethod</span><span style="color:#9ABDF5;">({</span><span style="color:#73DACA;"> allowed</span><span style="color:#89DDFF;">:</span><span style="color:#FF9E64;"> true</span><span style="color:#9ABDF5;"> })</span></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">  static</span><span style="color:#9D7CD8;font-style:italic;"> async</span><span style="color:#7AA2F7;"> signIn</span><span style="color:#9ABDF5;">(</span><span style="color:#E0AF68;">name</span><span style="color:#89DDFF;">:</span><span style="color:#0DB9D7;"> string</span><span style="color:#9ABDF5;">)</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">    const</span><span style="color:#BB9AF7;"> user</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> validUsers</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">find</span><span style="color:#9ABDF5;">((</span><span style="color:#E0AF68;">user</span><span style="color:#9ABDF5;">) </span><span style="color:#BB9AF7;">=&gt;</span><span style="color:#C0CAF5;"> user</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">name</span><span style="color:#BB9AF7;"> ===</span><span style="color:#C0CAF5;"> name</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BB9AF7;">    if</span><span style="color:#9ABDF5;"> (</span><span style="color:#C0CAF5;">user</span><span style="color:#9ABDF5;">) {</span></span>
<span class="line"><span style="color:#C0CAF5;">      remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span><span style="color:#89DDFF;"> =</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#73DACA;">        id</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> user</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#73DACA;">        name</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> user</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#73DACA;">        roles</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> user</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">admin</span><span style="color:#BB9AF7;"> ?</span><span style="color:#9ABDF5;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">admin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ABDF5;">] </span><span style="color:#BB9AF7;">:</span><span style="color:#9ABDF5;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#9ABDF5;">      }</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C0CAF5;">      remult</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">context</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">request</span><span style="color:#BB9AF7;">!</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">session</span><span style="color:#BB9AF7;">!</span><span style="color:#9ABDF5;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">user</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ABDF5;">] </span><span style="color:#89DDFF;">=</span><span style="color:#C0CAF5;"> remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BB9AF7;font-style:italic;">      return</span><span style="color:#C0CAF5;"> remult</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">user</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">    } </span><span style="color:#BB9AF7;">else</span><span style="color:#9ABDF5;"> {</span></span>
<span class="line"><span style="color:#BB9AF7;">      throw</span><span style="color:#7AA2F7;"> Error</span><span style="color:#9ABDF5;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Invalid user, try &#39;Steve&#39; or &#39;Jane&#39;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ABDF5;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#9ABDF5;">    }</span></span>
<span class="line"><span style="color:#9ABDF5;">  }</span></span></code></pre></div><p><strong>Sign in to the app as <em>&quot;Steve&quot;</em> to test that the actions restricted to <code>admin</code> users are not allowed. 🔒</strong></p><h2 id="role-based-authorization-on-the-frontend" tabindex="-1">Role-based Authorization on the Frontend <a class="header-anchor" href="#role-based-authorization-on-the-frontend" aria-label="Permalink to &quot;Role-based Authorization on the Frontend&quot;">​</a></h2><p>From a user experience perspective it only makes sense that users that can&#39;t add or delete, would not see these buttons.</p><p>Let&#39;s reuse the same definitions on the Frontend.</p><p>We&#39;ll use the entity&#39;s metadata to only show the form if the user is allowed to insert</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/App.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BA3C97;">&lt;</span><span style="color:#F7768E;">main</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line highlighted"><span style="color:#7DCFFF;">  {</span><span style="color:#C0CAF5;">taskRepo</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">metadata</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">apiInsertAllowed</span><span style="color:#9ABDF5;">()</span><span style="color:#BB9AF7;"> &amp;&amp;</span><span style="color:#9ABDF5;"> (</span></span>
<span class="line"><span style="color:#BA3C97;">    &lt;</span><span style="color:#F7768E;">form</span><span style="color:#BB9AF7;"> onSubmit</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#C0CAF5;">addTask</span><span style="color:#7DCFFF;">}</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">      &lt;</span><span style="color:#F7768E;">input</span></span>
<span class="line"><span style="color:#BB9AF7;">        value</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#C0CAF5;">newTaskTitle</span><span style="color:#7DCFFF;">}</span></span>
<span class="line"><span style="color:#BB9AF7;">        placeholder</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">What needs to be done?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BB9AF7;">        onChange</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#E0AF68;">e</span><span style="color:#BB9AF7;"> =&gt;</span><span style="color:#7AA2F7;"> setNewTaskTitle</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">e</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">target</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">value</span><span style="color:#9ABDF5;">)</span><span style="color:#7DCFFF;">}</span></span>
<span class="line"><span style="color:#BA3C97;">      /&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">      &lt;</span><span style="color:#F7768E;">button</span><span style="color:#BA3C97;">&gt;</span><span style="color:#9AA5CE;">Add</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">button</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    &lt;/</span><span style="color:#F7768E;">form</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">  )</span><span style="color:#7DCFFF;">}</span></span>
<span class="line"><span style="color:#9AA5CE;">  ...</span></span>
<span class="line"><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">main</span><span style="color:#BA3C97;">&gt;</span></span></code></pre></div><p>And let&#39;s do the same for the <code>delete</code> button:</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6;" tabindex="0"><code><span class="line"><span style="color:#51597D;font-style:italic;">// src/App.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BB9AF7;font-style:italic;">return</span><span style="color:#9ABDF5;"> (</span></span>
<span class="line"><span style="color:#BA3C97;">  &lt;</span><span style="color:#F7768E;">div</span><span style="color:#BB9AF7;"> key</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#C0CAF5;">task</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">id}</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    &lt;</span><span style="color:#F7768E;">input</span></span>
<span class="line"><span style="color:#BB9AF7;">      type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">checkbox</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BB9AF7;">      checked</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#C0CAF5;">task</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">completed}</span></span>
<span class="line"><span style="color:#BB9AF7;">      onChange</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#E0AF68;">e</span><span style="color:#BB9AF7;"> =&gt;</span><span style="color:#7AA2F7;"> setCompleted</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">e</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">target</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">checked</span><span style="color:#9ABDF5;">)</span><span style="color:#7DCFFF;">}</span></span>
<span class="line"><span style="color:#BA3C97;">    /&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    &lt;</span><span style="color:#F7768E;">input</span><span style="color:#BB9AF7;"> value</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#C0CAF5;">task</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">title}</span><span style="color:#BB9AF7;"> onChange</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#E0AF68;">e</span><span style="color:#BB9AF7;"> =&gt;</span><span style="color:#7AA2F7;"> setTitle</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">e</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">target</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">value</span><span style="color:#9ABDF5;">)</span><span style="color:#7DCFFF;">}</span><span style="color:#BA3C97;"> /&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    &lt;</span><span style="color:#F7768E;">button</span><span style="color:#BB9AF7;"> onClick</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#C0CAF5;">saveTask</span><span style="color:#7DCFFF;">}</span><span style="color:#BA3C97;">&gt;</span><span style="color:#9AA5CE;">Save</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">button</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line highlighted"><span style="color:#7DCFFF;">    {</span><span style="color:#C0CAF5;">taskRepo</span><span style="color:#89DDFF;">.</span><span style="color:#7DCFFF;">metadata</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">apiDeleteAllowed</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">task</span><span style="color:#9ABDF5;">)</span><span style="color:#BB9AF7;"> &amp;&amp;</span><span style="color:#9ABDF5;"> (</span></span>
<span class="line"><span style="color:#BA3C97;">      &lt;</span><span style="color:#F7768E;">button</span><span style="color:#BB9AF7;"> onClick</span><span style="color:#89DDFF;">=</span><span style="color:#7DCFFF;">{</span><span style="color:#C0CAF5;">deleteTask</span><span style="color:#7DCFFF;">}</span><span style="color:#BA3C97;">&gt;</span><span style="color:#9AA5CE;">Delete</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">button</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line highlighted"><span style="color:#9ABDF5;">    )</span><span style="color:#7DCFFF;">}</span></span>
<span class="line"><span style="color:#BA3C97;">  &lt;/</span><span style="color:#F7768E;">div</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#9ABDF5;">)</span></span></code></pre></div><p>This way we can keep the frontend consistent with the <code>api</code>&#39;s Authorization rules</p><ul><li>Note We send the <code>task</code> to the <code>apiDeleteAllowed</code> method, because the <code>apiDeleteAllowed</code> option, can be sophisticated and can also be based on the specific item&#39;s values.</li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/remult/remult/edit/main/docs/tutorials/react/auth.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Last updated: <time datetime="2025-05-06T12:49:55.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/tutorials/react/backend-methods" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Backend methods</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/tutorials/react/database" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Database</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>MIT Licensed | Made by the Remult team with ❤️</p><!----></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_introducing-remult-part-1.md\":\"pzQ44Qfb\",\"docs_access-control.md\":\"C-I5resb\",\"docs_active-record.md\":\"CZ0cTroQ\",\"docs_add-remult-to-your-app.md\":\"BPEdoOw6\",\"docs_adding-graphql.md\":\"C-gwtm72\",\"docs_adding-react-admin.md\":\"BNlxQA1o\",\"docs_adding-swagger.md\":\"BVGxxpjz\",\"docs_admin-ui.md\":\"BUehwb_L\",\"docs_allowed.md\":\"j7Q-t7U1\",\"docs_another-test.md\":\"VzMJKSup\",\"docs_backendmethods.md\":\"VrOpZeyR\",\"docs_creating-a-project.md\":\"DQ_YxZWm\",\"docs_crud-your-first-entity.md\":\"CtL0R0q5\",\"docs_custom-filter.md\":\"DOa1jhd-\",\"docs_custom-options.md\":\"BhIhEUtl\",\"docs_entities-codegen-from-db-schema.md\":\"Xhf2Ip5I\",\"docs_entity-backend-methods.md\":\"D5x3BFvH\",\"docs_entity-relations.md\":\"CZWbyyyY\",\"docs_entityfilter.md\":\"CcCRsz5g\",\"docs_example-apps.md\":\"igrgVKeS\",\"docs_field-types.md\":\"C_YFEXJX\",\"docs_filtering-and-relations.md\":\"wNZuU7X5\",\"docs_index.md\":\"Dj5CjrTk\",\"docs_installation_database_better-sqlite3.md\":\"q-iHQBYE\",\"docs_installation_database_bun-sqlite.md\":\"CBxLRfdg\",\"docs_installation_database_duckdb.md\":\"Jh6KKJqH\",\"docs_installation_database_index.md\":\"C_vVIJfD\",\"docs_installation_database_json.md\":\"C0yW5VBJ\",\"docs_installation_database_mongodb.md\":\"BQldI1z1\",\"docs_installation_database_mssql.md\":\"Bci_BGUb\",\"docs_installation_database_mysql.md\":\"DxSM-Vq5\",\"docs_installation_database_oracle.md\":\"BmcukVLF\",\"docs_installation_database_postgresql.md\":\"ouQEqIv7\",\"docs_installation_database_sqlite3.md\":\"4jlMunoZ\",\"docs_installation_database_sqljs.md\":\"BR7vleME\",\"docs_installation_database_turso.md\":\"B023a2to\",\"docs_installation_framework_angular.md\":\"BNOccReT\",\"docs_installation_framework_index.md\":\"Qo1MEyeg\",\"docs_installation_framework_nextjs.md\":\"5zvgQ92N\",\"docs_installation_framework_nuxt.md\":\"CyGKezs0\",\"docs_installation_framework_react.md\":\"C_7-l7L0\",\"docs_installation_framework_solid.md\":\"DONvU0nH\",\"docs_installation_framework_sveltekit.md\":\"CJ9HEyG7\",\"docs_installation_framework_vue.md\":\"I-8euA1J\",\"docs_installation_index.md\":\"CDFAsyQX\",\"docs_installation_server_express.md\":\"BylmNuCb\",\"docs_installation_server_fastify.md\":\"C47_yAX5\",\"docs_installation_server_hapi.md\":\"D1roBs-4\",\"docs_installation_server_hono.md\":\"BNx4plL_\",\"docs_installation_server_index.md\":\"DiaBUs2g\",\"docs_installation_server_koa.md\":\"tjXIkoPD\",\"docs_installation_server_nest.md\":\"BmOD0prP\",\"docs_lazy-loading-of-related-entities.md\":\"De3Vui6j\",\"docs_lifecycle-hooks.md\":\"BrALmOZ9\",\"docs_llms.md\":\"DoC2P21X\",\"docs_migrations.md\":\"C08CN8C-\",\"docs_mutable-controllers.md\":\"BgihtaMK\",\"docs_offline-support.md\":\"0CMcZjG8\",\"docs_quickstart.md\":\"CugjLW_r\",\"docs_ref_apiclient.md\":\"CQUj8KIT\",\"docs_ref_backendmethod.md\":\"D5RThQQn\",\"docs_ref_entity.md\":\"BHqmzE3s\",\"docs_ref_entitybase.md\":\"CifTMVwb\",\"docs_ref_entitymetadata.md\":\"BKCDSGcR\",\"docs_ref_entityref.md\":\"3S7FEpeu\",\"docs_ref_field.md\":\"Bh9L_pb6\",\"docs_ref_fieldmetadata.md\":\"D9TpDTbl\",\"docs_ref_fieldref.md\":\"CfOuEMq8\",\"docs_ref_filter.md\":\"C2J3mRWG\",\"docs_ref_filterprecisevalues.md\":\"DquWNSlj\",\"docs_ref_generatemigrations.md\":\"QXKK1Hf7\",\"docs_ref_getentityref.md\":\"BdKsWcbE\",\"docs_ref_getfields.md\":\"B1tjk86w\",\"docs_ref_identity.md\":\"CCk3ovCM\",\"docs_ref_livequery.md\":\"21xJuoJS\",\"docs_ref_livequerychangeinfo.md\":\"GurJffrr\",\"docs_ref_migrate.md\":\"M-5f5QUs\",\"docs_ref_paginator.md\":\"Bw2VCeb-\",\"docs_ref_preprocessfilterinfo.md\":\"bcYFXmue\",\"docs_ref_queryresult.md\":\"Dfnf4HnI\",\"docs_ref_relationoptions.md\":\"EzDe9wAP\",\"docs_ref_relations.md\":\"Bz7ZhA_B\",\"docs_ref_remult.md\":\"BrBXp9-n\",\"docs_ref_remultserveroptions.md\":\"DflGrdnr\",\"docs_ref_repository.md\":\"DZwMCdxy\",\"docs_ref_sort.md\":\"Cg4dbQW8\",\"docs_ref_sqldatabase.md\":\"q8FstZUW\",\"docs_ref_subscriptionchannel.md\":\"ZA1w_5eo\",\"docs_ref_validators.md\":\"CZ2fJ6Wa\",\"docs_ref_valueconverter.md\":\"BqPCc_Fz\",\"docs_rest-api.md\":\"BUIs4myl\",\"docs_running-sql-on-the-server.md\":\"CBDMunXl\",\"docs_setup-react.md\":\"D2JnRlvV\",\"docs_using-remult-in-custom-backend-code.md\":\"D4iAInHE\",\"docs_using-server-only-packages.md\":\"Cixk6YXS\",\"docs_using-vue.md\":\"B6wVKEVF\",\"docs_validation.md\":\"wotUXPJb\",\"docs_working-without-decorators.md\":\"Dp-TNc-N\",\"index.md\":\"uCaeV7mw\",\"misc_one-pager.md\":\"6xndzQHQ\",\"todo-short-list.md\":\"DLac7hvE\",\"tutorials_angular_appendix-observable-live-query.md\":\"CYfMQa81\",\"tutorials_angular_auth.md\":\"B_o899jY\",\"tutorials_angular_backend-methods.md\":\"CmA6Nr-C\",\"tutorials_angular_crud.md\":\"DNTvd0_x\",\"tutorials_angular_database.md\":\"Dft368mU\",\"tutorials_angular_deployment.md\":\"rnDOHwak\",\"tutorials_angular_entities.md\":\"M4QgYnww\",\"tutorials_angular_index.md\":\"DkukbX0P\",\"tutorials_angular_live-queries.md\":\"WI-C6NHk\",\"tutorials_angular_sorting-filtering.md\":\"DznvhA0-\",\"tutorials_angular_validation.md\":\"ChO4xt8I\",\"tutorials_react-next_auth.md\":\"CcD5Ggxh\",\"tutorials_react-next_backend-methods.md\":\"Dn1MiWnG\",\"tutorials_react-next_crud.md\":\"hDGI7n5D\",\"tutorials_react-next_database.md\":\"Bmu4rm-r\",\"tutorials_react-next_deployment.md\":\"DzSg50cR\",\"tutorials_react-next_entities.md\":\"D3GR630z\",\"tutorials_react-next_index.md\":\"ITL0lFY6\",\"tutorials_react-next_live-queries.md\":\"DWUrmUSH\",\"tutorials_react-next_sorting-filtering.md\":\"CbabM-wL\",\"tutorials_react-next_validation.md\":\"jAjKOmXq\",\"tutorials_react_auth.md\":\"BTs1Z2BT\",\"tutorials_react_backend-methods.md\":\"DHlU8ucT\",\"tutorials_react_crud.md\":\"CiWTzTDv\",\"tutorials_react_database.md\":\"r6Gm77rr\",\"tutorials_react_deployment.md\":\"C4i-sg1M\",\"tutorials_react_entities.md\":\"B0Sv2R2g\",\"tutorials_react_index.md\":\"D2htcdsB\",\"tutorials_react_live-queries.md\":\"CFfUnz2p\",\"tutorials_react_sorting-filtering.md\":\"DNTxdYgi\",\"tutorials_react_validation.md\":\"DIaoV5Hy\",\"tutorials_solid-start_auth.md\":\"Bdd2b_OG\",\"tutorials_solid-start_backend-methods.md\":\"BgwesaWR\",\"tutorials_solid-start_crud.md\":\"DMF_aCLn\",\"tutorials_solid-start_database.md\":\"_iCefJSw\",\"tutorials_solid-start_deployment.md\":\"A9S8Oj2b\",\"tutorials_solid-start_entities.md\":\"DUy9PcC2\",\"tutorials_solid-start_index.md\":\"BlXTq2W3\",\"tutorials_solid-start_live-queries.md\":\"WSKTC4Jj\",\"tutorials_solid-start_sorting-filtering.md\":\"DVRMDPiM\",\"tutorials_solid-start_validation.md\":\"C7LiOLle\",\"tutorials_sveltekit_auth.md\":\"CME6h2X6\",\"tutorials_sveltekit_backend-methods.md\":\"j5wIOHSV\",\"tutorials_sveltekit_crud.md\":\"BeIJd3Ce\",\"tutorials_sveltekit_database.md\":\"Dyl8iU45\",\"tutorials_sveltekit_deployment.md\":\"DeaQ0Uso\",\"tutorials_sveltekit_entities.md\":\"Br9i7hr7\",\"tutorials_sveltekit_index.md\":\"C_XP47bY\",\"tutorials_sveltekit_live-queries.md\":\"Fv1LtlIw\",\"tutorials_sveltekit_sorting-filtering.md\":\"DNLaPZAJ\",\"tutorials_sveltekit_validation.md\":\"B7sSmRJN\",\"tutorials_vue_auth.md\":\"Bjdv1kgu\",\"tutorials_vue_backend-methods.md\":\"x8Mf5gqQ\",\"tutorials_vue_crud.md\":\"Cgwwgz4e\",\"tutorials_vue_database.md\":\"DWrObwn4\",\"tutorials_vue_deployment.md\":\"DBxb8RO3\",\"tutorials_vue_entities.md\":\"tZhN-dH_\",\"tutorials_vue_index.md\":\"BieHP3TE\",\"tutorials_vue_live-queries.md\":\"-WxqdGIf\",\"tutorials_vue_sorting-filtering.md\":\"cahS3DG9\",\"tutorials_vue_validation.md\":\"DDQ2a2A8\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Remult\",\"description\":\"Build Full-stack, End-to-end Type-safe CRUD Apps without the Boilerplate\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":{\"dark\":\"/logo-white.svg\",\"light\":\"/logo-dark.svg\"},\"editLink\":{\"pattern\":\"https://github.com/remult/remult/edit/main/docs/:path\"},\"nav\":[{\"text\":\"Documentation\",\"link\":\"/docs/\"},{\"text\":\"Tutorials\",\"items\":[{\"text\":\"React\",\"link\":\"/tutorials/react/\"},{\"text\":\"Angular\",\"link\":\"/tutorials/angular/\"},{\"text\":\"Vue\",\"link\":\"/tutorials/vue/\"},{\"text\":\"SvelteKit\",\"link\":\"/tutorials/sveltekit/\"},{\"text\":\"Next.js\",\"link\":\"/tutorials/react-next/\"},{\"text\":\"SolidStart\",\"link\":\"/tutorials/solid-start/\"}]}],\"search\":{\"provider\":\"local\",\"options\":{}},\"socialLinks\":[{\"link\":\"https://twitter.com/RemultJs\",\"icon\":\"x\"},{\"link\":\"https://www.youtube.com/@remult6539\",\"icon\":\"youtube\"},{\"link\":\"https://discord.gg/GXHk7ZfuG5\",\"icon\":\"discord\"},{\"link\":\"https://github.com/remult/remult\",\"icon\":\"github\"}],\"sidebar\":{\"/docs/\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/docs/\"},{\"text\":\"Creating a project\",\"link\":\"/docs/creating-a-project\"},{\"text\":\"Quickstart\",\"link\":\"/docs/quickstart\"},{\"text\":\"Example Apps\",\"link\":\"/docs/example-apps\"}]},{\"text\":\"Entities\",\"items\":[{\"text\":\"Fields\",\"link\":\"/docs/field-types\"},{\"text\":\"Relations 🚀\",\"link\":\"/docs/entity-relations\",\"collapsed\":true,\"items\":[{\"text\":\"Filtering and Relations\",\"link\":\"/docs/filtering-and-relations\"}]},{\"text\":\"Lifecycle Hooks\",\"link\":\"/docs/lifecycle-hooks\"},{\"text\":\"Migrations\",\"link\":\"/docs/migrations\"},{\"text\":\"Generate from Existing DB\",\"link\":\"/docs/entities-codegen-from-db-schema\"},{\"text\":\"Offline Support\",\"link\":\"/docs/offline-support\"},{\"text\":\"Active Record & EntityBase\",\"link\":\"/docs/active-record\",\"collapsed\":true,\"items\":[{\"text\":\"Entity Backend Methods\",\"link\":\"/docs/entity-backend-methods\"},{\"text\":\"Mutable Controllers\",\"link\":\"/docs/mutable-controllers\"}]}]},{\"text\":\"Stacks\",\"link\":\"/docs/installation/\",\"items\":[{\"text\":\"Framework\",\"link\":\"/docs/installation/framework/\",\"collapsed\":true,\"items\":[{\"text\":\"React\",\"link\":\"/docs/installation/framework/react\"},{\"text\":\"Angular\",\"link\":\"/docs/installation/framework/angular\"},{\"text\":\"Vue\",\"link\":\"/docs/installation/framework/vue\"},{\"text\":\"Sveltekit\",\"link\":\"/docs/installation/framework/sveltekit\"},{\"text\":\"Next.js\",\"link\":\"/docs/installation/framework/nextjs\"},{\"text\":\"SolidStart\",\"link\":\"/docs/installation/framework/solid\"},{\"text\":\"Nuxt\",\"link\":\"/docs/installation/framework/nuxt\"}]},{\"text\":\"Server\",\"link\":\"/docs/installation/server/\",\"collapsed\":true,\"items\":[{\"text\":\"Express\",\"link\":\"/docs/installation/server/express\"},{\"text\":\"Fastify\",\"link\":\"/docs/installation/server/fastify\"},{\"text\":\"Hono\",\"link\":\"/docs/installation/server/hono\"},{\"text\":\"Hapi\",\"link\":\"/docs/installation/server/hapi\"},{\"text\":\"Koa\",\"link\":\"/docs/installation/server/koa\"},{\"text\":\"nest\",\"link\":\"/docs/installation/server/nest\"}]},{\"text\":\"Database\",\"link\":\"/docs/installation/database/\",\"collapsed\":true,\"items\":[{\"text\":\"PostgreSQL\",\"link\":\"/docs/installation/database/postgresql\"},{\"text\":\"MySQL\",\"link\":\"/docs/installation/database/mysql\"},{\"text\":\"MongoDB\",\"link\":\"/docs/installation/database/mongodb\"},{\"text\":\"SQLite3\",\"link\":\"/docs/installation/database/sqlite3\"},{\"text\":\"Better SQLite3\",\"link\":\"/docs/installation/database/better-sqlite3\"},{\"text\":\"sqljs\",\"link\":\"/docs/installation/database/sqljs\"},{\"text\":\"MSSQL\",\"link\":\"/docs/installation/database/mssql\"},{\"text\":\"Bun SQLite\",\"link\":\"/docs/installation/database/bun-sqlite\"},{\"text\":\"Turso\",\"link\":\"/docs/installation/database/turso\"},{\"text\":\"DuckDb\",\"link\":\"/docs/installation/database/duckdb\"},{\"text\":\"Oracle\",\"link\":\"/docs/installation/database/oracle\"},{\"text\":\"Json files\",\"link\":\"/docs/installation/database/json\"}]}]},{\"text\":\"Server-side Code\",\"items\":[{\"text\":\"Backend Methods\",\"link\":\"/docs/backendMethods\"},{\"text\":\"Server-only Dependencies\",\"link\":\"/docs/using-server-only-packages\"}]},{\"text\":\"Guides\",\"items\":[{\"text\":\"Access Control\",\"link\":\"/docs/access-control\"},{\"text\":\"Admin UI\",\"link\":\"/docs/admin-ui\"}]},{\"text\":\"Escape Hatches\",\"items\":[{\"text\":\"Custom/SQL Filters\",\"link\":\"/docs/custom-filter\"},{\"text\":\"Direct Database Access\",\"link\":\"/docs/running-sql-on-the-server\"},{\"text\":\"Using Remult in Non-Remult Routes\",\"link\":\"/docs/using-remult-in-custom-backend-code\"},{\"text\":\"Avoiding Decorators\",\"link\":\"/docs/working-without-decorators\"},{\"text\":\"Extensibility\",\"link\":\"/docs/custom-options\"}]},{\"text\":\"Integrations\",\"collapsed\":true,\"items\":[{\"text\":\"Open API\",\"link\":\"/docs/adding-swagger\"},{\"text\":\"GraphQL\",\"link\":\"/docs/adding-graphql\"},{\"text\":\"LLMs\",\"link\":\"/docs/llms\"}]},{\"text\":\"API Reference\",\"collapsed\":true,\"items\":[{\"text\":\"Entity\",\"link\":\"/docs/ref_entity\"},{\"text\":\"Field\",\"link\":\"/docs/ref_field\"},{\"text\":\"ValueConverter\",\"link\":\"/docs/ref_valueconverter\"},{\"text\":\"Validation\",\"link\":\"/docs/validation\"},{\"text\":\"Validators\",\"link\":\"/docs/ref_validators\"},{\"text\":\"Relations\",\"link\":\"/docs/ref_relations\"},{\"text\":\"RelationOptions\",\"link\":\"/docs/ref_relationoptions\"},{\"text\":\"Remult\",\"link\":\"/docs/ref_remult\"},{\"text\":\"ApiClient\",\"link\":\"/docs/ref_apiclient\"},{\"text\":\"Repository\",\"link\":\"/docs/ref_repository\"},{\"text\":\"RemultServerOptions\",\"link\":\"/docs/ref_remultserveroptions\"},{\"text\":\"EntityFilter\",\"link\":\"/docs/entityFilter\"},{\"text\":\"EntityMetadata\",\"link\":\"/docs/ref_entitymetadata\"},{\"text\":\"FieldMetadata\",\"link\":\"/docs/ref_fieldmetadata\"},{\"text\":\"Allowed\",\"link\":\"/docs/allowed\"},{\"text\":\"BackendMethod\",\"link\":\"/docs/ref_backendmethod\"},{\"text\":\"QueryResult\",\"link\":\"/docs/ref_queryresult\"},{\"text\":\"Paginator\",\"link\":\"/docs/ref_paginator\"},{\"text\":\"LiveQuery\",\"link\":\"/docs/ref_livequery\"},{\"text\":\"LiveQueryChangeInfo\",\"link\":\"/docs/ref_livequerychangeinfo\"},{\"text\":\"Filter\",\"link\":\"/docs/ref_filter\"},{\"text\":\"Sort\",\"link\":\"/docs/ref_sort\"},{\"text\":\"SqlDatabase\",\"link\":\"/docs/ref_sqldatabase\"},{\"text\":\"SubscriptionChannel\",\"link\":\"/docs/ref_subscriptionchannel\"},{\"text\":\"generateMigrations\",\"link\":\"/docs/ref_generatemigrations\"},{\"text\":\"migrate\",\"link\":\"/docs/ref_migrate\"},{\"text\":\"REST API Spec\",\"link\":\"/docs/rest-api\"},{\"text\":\"Active Record & Mutable\",\"collapsed\":true,\"items\":[{\"text\":\"EntityBase\",\"link\":\"/docs/ref_entitybase\"},{\"link\":\"/docs/ref_identity\",\"text\":\"IdEntity\"},{\"link\":\"/docs/ref_entityref\",\"text\":\"EntityRef\"},{\"link\":\"/docs/ref_fieldref\",\"text\":\"FieldRef\"},{\"link\":\"/docs/ref_getentityref\",\"text\":\"getEntityRef\"},{\"link\":\"/docs/ref_getfields\",\"text\":\"getFields\"}]}]}],\"/blog/\":[{\"text\":\"Remult Blog\",\"items\":[{\"text\":\"Introducing Remult\",\"link\":\"/blog/introducing-remult-part-1\"}]}],\"/tutorials/react/\":[{\"text\":\"Tutorial\",\"title\":\"react\",\"path\":\"/tutorials/react/\",\"items\":[{\"text\":\"Setup\",\"link\":\"/tutorials/react/\"},{\"text\":\"Entities\",\"link\":\"/tutorials/react/entities\"},{\"text\":\"Paging, Sorting and Filtering\",\"link\":\"/tutorials/react/sorting-filtering\"},{\"text\":\"CRUD Operations\",\"link\":\"/tutorials/react/crud\"},{\"text\":\"Validation\",\"link\":\"/tutorials/react/validation\"},{\"text\":\"Live Queries\",\"link\":\"/tutorials/react/live-queries\"},{\"text\":\"Backend methods\",\"link\":\"/tutorials/react/backend-methods\"},{\"text\":\"Authentication and Authorization\",\"link\":\"/tutorials/react/auth\"},{\"text\":\"Database\",\"link\":\"/tutorials/react/database\"},{\"text\":\"Deployment\",\"link\":\"/tutorials/react/deployment\"}]}],\"/tutorials/angular/\":[{\"text\":\"Tutorial\",\"title\":\"angular\",\"path\":\"/tutorials/angular/\",\"items\":[{\"text\":\"Setup\",\"link\":\"/tutorials/angular/\"},{\"text\":\"Entities\",\"link\":\"/tutorials/angular/entities\"},{\"text\":\"Paging, Sorting and Filtering\",\"link\":\"/tutorials/angular/sorting-filtering\"},{\"text\":\"CRUD Operations\",\"link\":\"/tutorials/angular/crud\"},{\"text\":\"Validation\",\"link\":\"/tutorials/angular/validation\"},{\"text\":\"Live Queries\",\"link\":\"/tutorials/angular/live-queries\"},{\"text\":\"Backend methods\",\"link\":\"/tutorials/angular/backend-methods\"},{\"text\":\"Authentication and Authorization\",\"link\":\"/tutorials/angular/auth\"},{\"text\":\"Database\",\"link\":\"/tutorials/angular/database\"},{\"text\":\"Deployment\",\"link\":\"/tutorials/angular/deployment\"},{\"text\":\"Appendix: Observable Live Query\",\"link\":\"/tutorials/angular/appendix-observable-live-query\"}]}],\"/tutorials/vue/\":[{\"text\":\"Tutorial\",\"title\":\"vue\",\"path\":\"/tutorials/vue/\",\"items\":[{\"text\":\"Setup\",\"link\":\"/tutorials/vue/\"},{\"text\":\"Entities\",\"link\":\"/tutorials/vue/entities\"},{\"text\":\"Paging, Sorting and Filtering\",\"link\":\"/tutorials/vue/sorting-filtering\"},{\"text\":\"CRUD Operations\",\"link\":\"/tutorials/vue/crud\"},{\"text\":\"Validation\",\"link\":\"/tutorials/vue/validation\"},{\"text\":\"Live Queries\",\"link\":\"/tutorials/vue/live-queries\"},{\"text\":\"Backend methods\",\"link\":\"/tutorials/vue/backend-methods\"},{\"text\":\"Authentication and Authorization\",\"link\":\"/tutorials/vue/auth\"},{\"text\":\"Database\",\"link\":\"/tutorials/vue/database\"},{\"text\":\"Deployment\",\"link\":\"/tutorials/vue/deployment\"}]}],\"/tutorials/sveltekit/\":[{\"text\":\"Tutorial\",\"title\":\"SvelteKit\",\"path\":\"/tutorials/sveltekit/\",\"items\":[{\"text\":\"Setup\",\"link\":\"/tutorials/sveltekit/\"},{\"text\":\"Entities\",\"link\":\"/tutorials/sveltekit/entities\"},{\"text\":\"Paging, Sorting and Filtering\",\"link\":\"/tutorials/sveltekit/sorting-filtering\"},{\"text\":\"CRUD Operations\",\"link\":\"/tutorials/sveltekit/crud\"},{\"text\":\"Validation\",\"link\":\"/tutorials/sveltekit/validation\"},{\"text\":\"Live Queries\",\"link\":\"/tutorials/sveltekit/live-queries\"},{\"text\":\"Backend methods\",\"link\":\"/tutorials/sveltekit/backend-methods\"},{\"text\":\"Authentication and Authorization\",\"link\":\"/tutorials/sveltekit/auth\"},{\"text\":\"Database\",\"link\":\"/tutorials/sveltekit/database\"},{\"text\":\"Deployment\",\"link\":\"/tutorials/sveltekit/deployment\"},{\"text\":\"Go further / Extra\",\"link\":\"/docs/installation/framework/sveltekit#extra\"}]}],\"/tutorials/react-next/\":[{\"text\":\"Tutorial\",\"title\":\"Next.js\",\"path\":\"/tutorials/react-next/\",\"items\":[{\"text\":\"Setup\",\"link\":\"/tutorials/react-next/\"},{\"text\":\"Entities\",\"link\":\"/tutorials/react-next/entities\"},{\"text\":\"Paging, Sorting and Filtering\",\"link\":\"/tutorials/react-next/sorting-filtering\"},{\"text\":\"CRUD Operations\",\"link\":\"/tutorials/react-next/crud\"},{\"text\":\"Validation\",\"link\":\"/tutorials/react-next/validation\"},{\"text\":\"Live Queries\",\"link\":\"/tutorials/react-next/live-queries\"},{\"text\":\"Backend methods\",\"link\":\"/tutorials/react-next/backend-methods\"},{\"text\":\"Authentication and Authorization\",\"link\":\"/tutorials/react-next/auth\"},{\"text\":\"Database\",\"link\":\"/tutorials/react-next/database\"},{\"text\":\"Deployment\",\"link\":\"/tutorials/react-next/deployment\"}]}],\"/tutorials/solid-start/\":[{\"text\":\"Tutorial\",\"title\":\"SolidStart\",\"path\":\"/tutorials/solid-start/\",\"items\":[{\"text\":\"Setup\",\"link\":\"/tutorials/solid-start/\"},{\"text\":\"Entities\",\"link\":\"/tutorials/solid-start/entities\"},{\"text\":\"Paging, Sorting and Filtering\",\"link\":\"/tutorials/solid-start/sorting-filtering\"},{\"text\":\"CRUD Operations\",\"link\":\"/tutorials/solid-start/crud\"},{\"text\":\"Validation\",\"link\":\"/tutorials/solid-start/validation\"},{\"text\":\"Live Queries\",\"link\":\"/tutorials/solid-start/live-queries\"},{\"text\":\"Backend methods\",\"link\":\"/tutorials/solid-start/backend-methods\"},{\"text\":\"Authentication and Authorization\",\"link\":\"/tutorials/solid-start/auth\"},{\"text\":\"Database\",\"link\":\"/tutorials/solid-start/database\"},{\"text\":\"Deployment\",\"link\":\"/tutorials/solid-start/deployment\"}]}]},\"footer\":{\"message\":\"MIT Licensed | Made by the Remult team with ❤️\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>