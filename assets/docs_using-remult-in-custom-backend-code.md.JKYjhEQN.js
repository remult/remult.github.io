import{_ as r,C as t,c as p,o as F,L as y,G as e,w as n,j as s,a as l}from"./chunks/framework.DxxKE4lP.js";const h=JSON.parse('{"title":"Using Remult in Non-Remult Routes","description":"","frontmatter":{"keywords":[{"Error":"remult object was requested outside of a valid context"},"try running it within initApi or a remult request cycle"]},"headers":[],"relativePath":"docs/using-remult-in-custom-backend-code.md","filePath":"docs/using-remult-in-custom-backend-code.md","lastUpdated":1746535795000}'),D={name:"docs/using-remult-in-custom-backend-code.md"};function i(A,o,B,u,C,d){const a=t("PluginTabsTab"),c=t("PluginTabs");return F(),p("div",null,[o[7]||(o[7]=y('<h1 id="using-remult-in-non-remult-routes" tabindex="-1">Using Remult in Non-Remult Routes <a class="header-anchor" href="#using-remult-in-non-remult-routes" aria-label="Permalink to &quot;Using Remult in Non-Remult Routes&quot;">​</a></h1><p>When using the CRUD api or <a href="./backendMethods">BackendMethods</a>, <code>remult</code> is automatically available. Still, there are many use cases where you may want to user remult in your own routes or other code without using <code>BackendMethods</code> but would still want to take advantage of <code>Remult</code> as an ORM and use it to check for user validity, etc...</p><p>If you tried to use the <code>remult</code> object, you may have got the error:</p><h2 id="error-remult-object-was-requested-outside-of-a-valid-context-try-running-it-within-initapi-or-a-remult-request-cycle" tabindex="-1">Error: remult object was requested outside of a valid context, try running it within initApi or a remult request cycle <a class="header-anchor" href="#error-remult-object-was-requested-outside-of-a-valid-context-try-running-it-within-initapi-or-a-remult-request-cycle" aria-label="Permalink to &quot;Error: remult object was requested outside of a valid context, try running it within initApi or a remult request cycle &lt;!-- I&#39;ve placed this as header for search--&gt;&quot;">​</a></h2><p>Here&#39;s how you can use remult in this context, according to the server you&#39;re using:</p>',5)),e(c,null,{default:n(()=>[e(a,{label:"Express"},{default:n(()=>o[0]||(o[0]=[s("h3",{id:"withremult-middleware",tabindex:"-1"},[l("withRemult middleware "),s("a",{class:"header-anchor",href:"#withremult-middleware","aria-label":'Permalink to "withRemult middleware"'},"​")],-1),s("p",null,[l("You can use remult as an express middleware for a specific route, using "),s("code",null,"api.withRemult")],-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line highlighted"},[s("span",{style:{color:"#C0CAF5"}},"app"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"post"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ECE6A"}},"/api/customSetAll"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7DCFFF"}},"withRemult"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#E0AF68"}},"req"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#E0AF68"}}," res"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#BB9AF7"}}," =>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"  // ....")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"})")])])])],-1),s("p",null,"Or as an express middleware for multiple routes",-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night has-highlighted vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line highlighted"},[s("span",{style:{color:"#C0CAF5"}},"app"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"use"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7DCFFF"}},"withRemult"),s("span",{style:{color:"#9ABDF5"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"app"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"post"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ECE6A"}},"/api/customSetAll"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#E0AF68"}},"req"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#E0AF68"}}," res"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#BB9AF7"}}," =>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"  // ....")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"})")])])])],-1),s("h3",{id:"withremultasync-promise-wrapper",tabindex:"-1"},[l("withRemultAsync promise wrapper "),s("a",{class:"header-anchor",href:"#withremultasync-promise-wrapper","aria-label":'Permalink to "withRemultAsync promise wrapper"'},"​")],-1),s("p",null,[l("Use the "),s("code",null,"api.withRemultAsync"),l(" method in promises")],-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night has-highlighted vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#0DB9D7"}}," express"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"express"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"remultApi"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult/remult-express"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"remult"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#0DB9D7"}}," repo"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"const"),s("span",{style:{color:"#BB9AF7"}}," app"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," express"),s("span",{style:{color:"#9ABDF5"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"// ...")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"const"),s("span",{style:{color:"#BB9AF7"}}," api"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," remultApi"),s("span",{style:{color:"#9ABDF5"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#73DACA"}},"  entities"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#9ABDF5"}}," ["),s("span",{style:{color:"#7DCFFF"}},"Task"),s("span",{style:{color:"#9ABDF5"}},"]"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"app"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"post"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ECE6A"}},"/api/customSetAll"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#E0AF68"}},"req"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#E0AF68"}}," res"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#BB9AF7"}}," =>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"  // use remult in a specific piece of code")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"  await"),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemultAsync"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"req"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#BB9AF7"}},"    if"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#BB9AF7"}},"!"),s("span",{style:{color:"#C0CAF5"}},"remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"authenticated"),s("span",{style:{color:"#9ABDF5"}},"()) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"      res"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"sendStatus"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#FF9E64"}},"403"),s("span",{style:{color:"#9ABDF5"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"      return")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7"}},"    if"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#BB9AF7"}},"!"),s("span",{style:{color:"#C0CAF5"}},"remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"isAllowed"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ECE6A"}},"admin"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ABDF5"}},")) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"      res"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"sendStatus"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#FF9E64"}},"403"),s("span",{style:{color:"#9ABDF5"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"      return")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"    const"),s("span",{style:{color:"#BB9AF7"}}," taskRepo"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7"}},"    for"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"const"),s("span",{style:{color:"#BB9AF7"}}," task"),s("span",{style:{color:"#89DDFF"}}," of"),s("span",{style:{color:"#BB9AF7","font-style":"italic"}}," await"),s("span",{style:{color:"#C0CAF5"}}," taskRepo"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"find"),s("span",{style:{color:"#9ABDF5"}},"()) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"      task"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7DCFFF"}},"completed"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#C0CAF5"}}," req"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#C0CAF5"}},"body"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7DCFFF"}},"completed")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"      await"),s("span",{style:{color:"#C0CAF5"}}," taskRepo"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"save"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"task"),s("span",{style:{color:"#9ABDF5"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"    res"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"send"),s("span",{style:{color:"#9ABDF5"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"})")])])])],-1),s("p",null,"You can also use it without sending the request object, for non request related code",-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#7AA2F7"}},"setInterval"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"async"),s("span",{style:{color:"#9ABDF5"}}," ()"),s("span",{style:{color:"#BB9AF7"}}," =>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#C0CAF5"}},"  api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemultAsync"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#FF9E64"}},"undefined"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"    // ....")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"}"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#FF9E64"}}," 10000"),s("span",{style:{color:"#9ABDF5"}},")")])])])],-1)])),_:1}),e(a,{label:"Fastify"},{default:n(()=>o[1]||(o[1]=[s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night has-highlighted vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#0DB9D7"}}," fastify"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"fastify"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"remultApi"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult/remult-fastify"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"async"),s("span",{style:{color:"#9ABDF5"}}," ()"),s("span",{style:{color:"#BB9AF7"}}," =>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"  const"),s("span",{style:{color:"#BB9AF7"}}," server"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," fastify"),s("span",{style:{color:"#9ABDF5"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"  await"),s("span",{style:{color:"#C0CAF5"}}," server"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"register"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#7AA2F7"}},"remultApi"),s("span",{style:{color:"#9ABDF5"}},"({})) ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"  server"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"get"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ECE6A"}},"/api/test"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#E0AF68"}},"req"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#E0AF68"}}," res"),s("span",{style:{color:"#9ABDF5"}},") "),s("span",{style:{color:"#BB9AF7"}},"=>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"    return"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#73DACA"}},"      result"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BB9AF7","font-style":"italic"}}," await"),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemult"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"req"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>"),s("span",{style:{color:"#C0CAF5"}}," remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"count"),s("span",{style:{color:"#9ABDF5"}},"())"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  })")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"  server"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"listen"),s("span",{style:{color:"#9ABDF5"}},"({ "),s("span",{style:{color:"#73DACA"}},"port"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#FF9E64"}}," 3000"),s("span",{style:{color:"#9ABDF5"}}," })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"})()")])])])],-1)])),_:1}),e(a,{label:"Hono"},{default:n(()=>o[2]||(o[2]=[s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night has-highlighted vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"Hono"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"hono"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"remultApi"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult/remult-hono"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"const"),s("span",{style:{color:"#BB9AF7"}}," app"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#89DDFF"}}," new"),s("span",{style:{color:"#7AA2F7"}}," Hono"),s("span",{style:{color:"#9ABDF5"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"const"),s("span",{style:{color:"#BB9AF7"}}," api"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," remultApi"),s("span",{style:{color:"#9ABDF5"}},"({})"),s("span",{style:{color:"#A9B1D6"}}," ")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#C0CAF5"}},"app"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"get"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ECE6A"}},"/test1"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7DCFFF"}},"withRemult"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#E0AF68"}},"c"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#BB9AF7"}}," =>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"  c"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"text"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#9ECE6A"}},"hello "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}}," +"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"await"),s("span",{style:{color:"#7AA2F7"}}," repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"count"),s("span",{style:{color:"#9ABDF5"}},"()))"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"app"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"route"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#89DDFF"}},"''"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#9ABDF5"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#7DCFFF"}}," default"),s("span",{style:{color:"#C0CAF5"}}," app")])])])],-1)])),_:1}),e(a,{label:"Next.js app router"},{default:n(()=>o[3]||(o[3]=[s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"// src/app/api/test/route.ts")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"NextResponse"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"next/server"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"repo"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"Task"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"../../../shared/task"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"api"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"../../../api"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," const"),s("span",{style:{color:"#BB9AF7"}}," dynamic"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"force-dynamic"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#BB9AF7"}}," function"),s("span",{style:{color:"#7AA2F7"}}," GET"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#E0AF68"}},"req"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#C0CAF5"}}," Request"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"  return"),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemult"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"async"),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"    return"),s("span",{style:{color:"#C0CAF5"}}," NextResponse"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"json"),s("span",{style:{color:"#9ABDF5"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#73DACA"}},"      result"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#7AA2F7"}}," repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"count"),s("span",{style:{color:"#9ABDF5"}},"()"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#73DACA"}},"      user"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#C0CAF5"}}," remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7DCFFF"}},"user"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"    })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"}")])])])],-1)])),_:1}),e(a,{label:"Sveltekit"},{default:n(()=>o[4]||(o[4]=[s("p",null,[l("You can use the "),s("code",null,"withRemult"),l(" method in specific routes")],-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"// src/routes/api/test/+server.ts")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"json"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#BB9AF7"}}," type"),s("span",{style:{color:"#0DB9D7"}}," RequestHandler"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"@sveltejs/kit"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"remult"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"Task"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"../../../shared/Task"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"api"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"../../../server/api"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," const"),s("span",{style:{color:"#7AA2F7"}}," GET"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#C0CAF5"}}," RequestHandler"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#E0AF68"}},"event"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#BB9AF7"}}," =>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"  return"),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemult"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"event"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7AA2F7"}},"    json"),s("span",{style:{color:"#9ABDF5"}},"({ "),s("span",{style:{color:"#73DACA"}},"result"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BB9AF7","font-style":"italic"}}," await"),s("span",{style:{color:"#C0CAF5"}}," remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"count"),s("span",{style:{color:"#9ABDF5"}},"() })"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  )")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"}")])])])],-1),s("p",null,"You can also define the withRemult as a hook, to make remult available throughout the application",-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"// src/hooks.server.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#BB9AF7"}}," type"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"Handle"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"@sveltejs/kit"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"sequence"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"@sveltejs/kit/hooks"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#C0CAF5"}},"api"),s("span",{style:{color:"#89DDFF"}}," as"),s("span",{style:{color:"#0DB9D7"}}," handleRemult"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"./server/api"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," const"),s("span",{style:{color:"#BB9AF7"}}," handle"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," sequence"),s("span",{style:{color:"#9ABDF5"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"  // Handle remult server side")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"  handleRemult"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},")")])])])],-1)])),_:1}),e(a,{label:"SolidStart"},{default:n(()=>o[5]||(o[5]=[s("p",null,[l("You can use the "),s("code",null,"withRemult"),l(" method in specific routes")],-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"// src/routes/api/test.ts")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"remult"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"Task"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"../../../shared/Task"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"api"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"../../../server/api"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#BB9AF7"}}," function"),s("span",{style:{color:"#7AA2F7"}}," GET"),s("span",{style:{color:"#9ABDF5"}},"()"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"  return"),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemult"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"event"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"    ({ "),s("span",{style:{color:"#73DACA"}},"result"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BB9AF7","font-style":"italic"}}," await"),s("span",{style:{color:"#C0CAF5"}}," remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"count"),s("span",{style:{color:"#9ABDF5"}},"() })"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  )")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"}")])])])],-1),s("p",null,'You can also use the same method for any "use server" function',-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#BB9AF7"}}," function"),s("span",{style:{color:"#7AA2F7"}}," getCount"),s("span",{style:{color:"#9ABDF5"}},"(){")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"  return"),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemult"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"event"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"   ({ "),s("span",{style:{color:"#73DACA"}},"result"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BB9AF7","font-style":"italic"}}," await"),s("span",{style:{color:"#C0CAF5"}}," remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"count"),s("span",{style:{color:"#9ABDF5"}},"() })"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  )")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"}")])])])],-1),s("p",null,"You can also define the withRemult as a hook, to make remult available throughout the application",-1),s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"// src/hooks.server.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#BB9AF7"}}," type"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"Handle"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"@sveltejs/kit"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"sequence"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"@sveltejs/kit/hooks"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#C0CAF5"}},"api"),s("span",{style:{color:"#89DDFF"}}," as"),s("span",{style:{color:"#0DB9D7"}}," handleRemult"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"./server/api"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"export"),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," const"),s("span",{style:{color:"#BB9AF7"}}," handle"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," sequence"),s("span",{style:{color:"#9ABDF5"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#51597D","font-style":"italic"}},"  // Handle remult server side")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"  handleRemult"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},")")])])])],-1)])),_:1}),e(a,{label:"Hapi"},{default:n(()=>o[6]||(o[6]=[s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki tokyo-night has-highlighted vp-code",style:{"background-color":"#1a1b26",color:"#a9b1d6"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#BB9AF7"}},"type"),s("span",{style:{color:"#0DB9D7"}}," Plugin"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#0DB9D7"}}," server"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"@hapi/hapi"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7DCFFF"}},"import"),s("span",{style:{color:"#9ABDF5"}}," { "),s("span",{style:{color:"#0DB9D7"}},"remultApi"),s("span",{style:{color:"#9ABDF5"}}," }"),s("span",{style:{color:"#7DCFFF"}}," from"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"remult/remult-hapi"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"async"),s("span",{style:{color:"#9ABDF5"}}," ()"),s("span",{style:{color:"#BB9AF7"}}," =>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"  const"),s("span",{style:{color:"#BB9AF7"}}," hapi"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," server"),s("span",{style:{color:"#9ABDF5"}},"({ "),s("span",{style:{color:"#73DACA"}},"port"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#FF9E64"}}," 3000"),s("span",{style:{color:"#9ABDF5"}}," })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9D7CD8","font-style":"italic"}},"  const"),s("span",{style:{color:"#BB9AF7"}}," api"),s("span",{style:{color:"#89DDFF"}}," ="),s("span",{style:{color:"#7AA2F7"}}," remultApi"),s("span",{style:{color:"#9ABDF5"}},"({})")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"  await"),s("span",{style:{color:"#C0CAF5"}}," hapi"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"register"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"api"),s("span",{style:{color:"#9ABDF5"}},") ")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"  server"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"route"),s("span",{style:{color:"#9ABDF5"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#73DACA"}},"    method"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"GET"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#73DACA"}},"    path"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#89DDFF"}}," '"),s("span",{style:{color:"#9ECE6A"}},"/api/test2"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#7AA2F7"}},"    handler"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," ("),s("span",{style:{color:"#E0AF68"}},"request"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#E0AF68"}}," h"),s("span",{style:{color:"#9ABDF5"}},") "),s("span",{style:{color:"#BB9AF7"}},"=>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"      return"),s("span",{style:{color:"#C0CAF5"}}," api"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"withRemult"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"request"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#9D7CD8","font-style":"italic"}}," async"),s("span",{style:{color:"#9ABDF5"}}," () "),s("span",{style:{color:"#BB9AF7"}},"=>"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BB9AF7","font-style":"italic"}},"        return"),s("span",{style:{color:"#9ABDF5"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#73DACA"}},"          result"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BB9AF7","font-style":"italic"}}," await"),s("span",{style:{color:"#C0CAF5"}}," remult"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"repo"),s("span",{style:{color:"#9ABDF5"}},"("),s("span",{style:{color:"#C0CAF5"}},"Task"),s("span",{style:{color:"#9ABDF5"}},")"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"count"),s("span",{style:{color:"#9ABDF5"}},"()"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"        }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"      })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"    }"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"  })")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C0CAF5"}},"  hapi"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#7AA2F7"}},"start"),s("span",{style:{color:"#9ABDF5"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ABDF5"}},"})()")])])])],-1)])),_:1})]),_:1})])}const f=r(D,[["render",i]]);export{h as __pageData,f as default};
