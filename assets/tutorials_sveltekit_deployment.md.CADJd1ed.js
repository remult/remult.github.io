import{_ as e,c as a,a as o,a5 as t,j as l,o as s}from"./chunks/framework.C7bC4sbb.js";const v=JSON.parse('{"title":"Deployment","description":"","frontmatter":{},"headers":[],"relativePath":"tutorials/sveltekit/deployment.md","filePath":"tutorials/sveltekit/deployment.md","lastUpdated":1719513096000}'),n={name:"tutorials/sveltekit/deployment.md"},p=t(`<h1 id="deployment" tabindex="-1">Deployment <a class="header-anchor" href="#deployment" aria-label="Permalink to &quot;Deployment&quot;">​</a></h1><p>Let&#39;s deploy the todo app to <a href="https://railway.app/" target="_blank" rel="noreferrer">railway.app</a>.</p><h2 id="prepare-for-production" tabindex="-1">Prepare for Production <a class="header-anchor" href="#prepare-for-production" aria-label="Permalink to &quot;Prepare for Production&quot;">​</a></h2><p>In order to deploy to a Node.js environment, you need to change Sveltekit&#39;s adaptor to <code>@sveltejs/adapter-node</code>.</p><ol><li>Install <code>adapter-node</code>:</li></ol><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">npm</span><span style="color:#CE9178;"> i</span><span style="color:#CE9178;"> @sveltejs/adapter-node</span><span style="color:#569CD6;"> --save-dev</span></span></code></pre></div><ol start="2"><li>In <code>svelte.config.js</code>, change the adapter:</li></ol><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-KQAnI" id="tab-W6qaXw6" checked><label for="tab-W6qaXw6">svelte.config.js</label></div><div class="blocks"><div class="language-js active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dark-plus has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="color:#C586C0;">import</span><span style="color:#9CDCFE;"> adapter</span><span style="color:#C586C0;"> from</span><span style="color:#CE9178;"> &#39;@sveltejs/adapter-auto&#39;</span></span>
<span class="line diff add"><span style="color:#C586C0;">import</span><span style="color:#9CDCFE;"> adapter</span><span style="color:#C586C0;"> from</span><span style="color:#CE9178;"> &#39;@sveltejs/adapter-node&#39;</span></span></code></pre></div></div></div><p>In order to deploy the todo app to <a href="https://railway.app/" target="_blank" rel="noreferrer">railway</a> you&#39;ll need a <code>railway</code> account. You&#39;ll also need <a href="https://docs.railway.app/develop/cli#npm" target="_blank" rel="noreferrer">Railway CLI</a> installed, and you&#39;ll need to login to railway from the cli, using <code>railway login</code>.</p><p>Click enter multiple times to answer all its questions with the default answer</p><ol><li><p>Create a Railway <code>project</code>.</p><p>From the terminal in your project folder run:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">railway</span><span style="color:#CE9178;"> init</span></span></code></pre></div></li><li><p>Select <code>Empty Project</code></p></li><li><p>Set a project name.</p></li><li><p>Once it&#39;s done add a database by running the following command:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">railway</span><span style="color:#CE9178;"> add</span></span></code></pre></div></li><li><p>Select <code>postgressql</code> as the database.</p></li><li><p>Once that&#39;s done run the following command to upload the project to railway:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">railway</span><span style="color:#CE9178;"> up</span></span></code></pre></div></li><li><p>got to the <code>railway</code> project&#39;s site and click on the project</p></li><li><p>Switch to the <code>settings</code> tab</p></li><li><p>Under <code>Environment</code> click on <code>Generate Domain</code></p></li><li><p>Copy the <code>generated url</code>, you&#39;ll need it for <a href="https://next-auth.js.org/configuration/options#nextauth_url" target="_blank" rel="noreferrer">NEXTAUTH_URL</a> on step 14</p></li><li><p>Switch to the <code>variables</code> tab</p></li><li><p>Click on <code>+ New Variable</code>, and in the <code>VARIABLE_NAME</code> click <code>Add Reference</code> and select <code>DATABASE_URL</code></p></li><li><p>Add another variable called <code>AUTH_SECRET</code> and set it to a random string, you can use an <a href="https://www.uuidgenerator.net/" target="_blank" rel="noreferrer">online UUID generator</a></p></li><li><p>Add another variable called <code>NEXTAUTH_URL</code> and set it to the <code>generated url</code> which was created on step 10.</p></li><li><p>Wait for railway to finish deploying your changes and Click on the newly generated url to open the app in the browser and you&#39;ll see the app live in production. (it may take a few minutes to go live)</p></li></ol><div class="warning custom-block"><p class="custom-block-title">Note</p><p>If you run into trouble deploying the app to Railway, try using Railway&#39;s <a href="https://docs.railway.app/deploy/deployments" target="_blank" rel="noreferrer">documentation</a>.</p></div><p>That&#39;s it - our application is deployed to production, on a node js server</p><hr>`,14),r=l("a",{href:"https://github.com/remult/remult",target:"_blank",rel:"noopener"}," Give our repo a star.⭐",-1);function i(d,c,u,h,y,g){return s(),a("div",null,[p,o(" Love Remult? "),r])}const f=e(n,[["render",i]]);export{v as __pageData,f as default};
