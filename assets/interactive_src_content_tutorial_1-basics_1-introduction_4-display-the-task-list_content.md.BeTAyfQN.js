import{_ as s,c as a,o as n,a5 as o}from"./chunks/framework.C7bC4sbb.js";const h=JSON.parse('{"title":"Display the Task List","description":"","frontmatter":{"type":"lesson","title":"Display the Task List","focus":"/frontend/Todo.tsx","autoReload":true},"headers":[],"relativePath":"interactive/src/content/tutorial/1-basics/1-introduction/4-display-the-task-list/content.md","filePath":"interactive/src/content/tutorial/1-basics/1-introduction/4-display-the-task-list/content.md","lastUpdated":1723795207000}'),e={name:"interactive/src/content/tutorial/1-basics/1-introduction/4-display-the-task-list/content.md"},t=o(`<h2 id="display-the-task-list" tabindex="-1">Display the Task List <a class="header-anchor" href="#display-the-task-list" aria-label="Permalink to &quot;Display the Task List&quot;">​</a></h2><p>Next, we&#39;ll use the tasks from the backend and display them in the frontend. We&#39;ve prepared a <code>Todo</code> React component that displays an array of <code>Task</code>. Note that we&#39;re using the same &quot;shared&quot; <code>Task</code> type that we previously used in the backend.</p><p>Let&#39;s add the following code to display the tasks:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">useEffect</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">useState</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#CE9178;"> &#39;react&#39;</span></span>
<span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">Task</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#CE9178;"> &#39;../shared/Task.js&#39;</span></span>
<span class="line highlighted"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">repo</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#CE9178;"> &#39;remult&#39;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#569CD6;">const</span><span style="color:#4FC1FF;"> taskRepo</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">repo</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Task</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#569CD6;"> function</span><span style="color:#DCDCAA;"> Todo</span><span style="color:#D4D4D4;">() {</span></span>
<span class="line"><span style="color:#569CD6;">  const</span><span style="color:#D4D4D4;"> [</span><span style="color:#4FC1FF;">tasks</span><span style="color:#D4D4D4;">, </span><span style="color:#4FC1FF;">setTasks</span><span style="color:#D4D4D4;">] = </span><span style="color:#DCDCAA;">useState</span><span style="color:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;">Task</span><span style="color:#D4D4D4;">[]&gt;([])</span></span>
<span class="line highlighted"><span style="color:#DCDCAA;">  useEffect</span><span style="color:#D4D4D4;">(() </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line highlighted"><span style="color:#9CDCFE;">    taskRepo</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">find</span><span style="color:#D4D4D4;">({}).</span><span style="color:#DCDCAA;">then</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">setTasks</span><span style="color:#D4D4D4;">)</span></span>
<span class="line highlighted"><span style="color:#D4D4D4;">  }, [])</span></span>
<span class="line"><span style="color:#C586C0;">  return</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    &lt;</span><span style="color:#4EC9B0;">div</span><span style="color:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">      &lt;</span><span style="color:#4EC9B0;">h1</span><span style="color:#D4D4D4;">&gt;</span><span style="color:#9CDCFE;">Todos</span><span style="color:#D4D4D4;">&lt;/</span><span style="color:#9CDCFE;">h1</span><span style="color:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">      &lt;</span><span style="color:#4EC9B0;">main</span><span style="color:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        {</span><span style="color:#9CDCFE;">tasks</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">map</span><span style="color:#D4D4D4;">((</span><span style="color:#9CDCFE;">task</span><span style="color:#D4D4D4;">) =&gt; {</span></span>
<span class="line"><span style="color:#DCDCAA;">          return</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">            &lt;</span><span style="color:#9CDCFE;">div</span><span style="color:#9CDCFE;"> key</span><span style="color:#D4D4D4;">={task.</span><span style="color:#9CDCFE;">id</span><span style="color:#D4D4D4;">}&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">              &lt;</span><span style="color:#9CDCFE;">input</span><span style="color:#9CDCFE;"> type</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;checkbox&quot;</span><span style="color:#9CDCFE;"> checked</span><span style="color:#D4D4D4;">={task.</span><span style="color:#9CDCFE;">completed</span><span style="color:#D4D4D4;">} /&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">              {</span><span style="color:#9CDCFE;">task</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">title</span><span style="color:#D4D4D4;">}</span></span>
<span class="line"><span style="color:#D4D4D4;">            &lt;/</span><span style="color:#9CDCFE;">div</span><span style="color:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">          )</span></span>
<span class="line"><span style="color:#D4D4D4;">        })}</span></span>
<span class="line"><span style="color:#D4D4D4;">      &lt;/</span><span style="color:#9CDCFE;">main</span><span style="color:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">    &lt;/</span><span style="color:#9CDCFE;">div</span><span style="color:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">  )</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div><h3 id="code-explanation" tabindex="-1">Code Explanation <a class="header-anchor" href="#code-explanation" aria-label="Permalink to &quot;Code Explanation&quot;">​</a></h3><ul><li>We ask Remult for a <code>Repository</code> of type <code>Task</code> and store it in <code>taskRepo</code>. The repository is used to perform all CRUD operations for our tasks.</li><li>Previously, we used a Repository in the <code>initApi</code> on the backend to create rows directly in our database. Now, we use the same Repository abstraction on the frontend. When it runs in the frontend, the same methods will perform REST API calls to the backend to get and manipulate the data.</li><li>We use the <code>find</code> method of the repository in the <code>useEffect</code> hook to get the tasks from the backend and set them in the state.</li></ul><p>This code makes a REST API call to the backend at the <code>/api/tasks</code> URL to get the tasks and display them.</p><p>You can see the tasks in the preview window below.</p>`,8),l=[t];function p(c,D,r,i,y,d){return n(),a("div",null,l)}const u=s(e,[["render",p]]);export{h as __pageData,u as default};
