import{_ as c,D as e,c as r,I as o,w as n,a5 as p,j as s,o as D,a as l}from"./chunks/framework.C7bC4sbb.js";const P=JSON.parse('{"title":"Backend only code","description":"","frontmatter":{},"headers":[],"relativePath":"docs/using-server-only-packages.md","filePath":"docs/using-server-only-packages.md","lastUpdated":1729665324000}'),y={name:"docs/using-server-only-packages.md"},i=p("",11),d=s("h3",{id:"exclude-in-vite-config",tabindex:"-1"},[l("Exclude in "),s("code",null,"vite.config"),l(),s("a",{class:"header-anchor",href:"#exclude-in-vite-config","aria-label":'Permalink to "Exclude in `vite.config`"'},"â€‹")],-1),C=s("p",null,[l("Instruct vite to exclude the "),s("code",null,"server-only"),l(" packages from the bundle")],-1),u=s("div",{class:"language-ts"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki dark-plus has-diff vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE"}},"defineConfig"),s("span",{style:{color:"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0"}},"from"),s("span",{style:{color:"#CE9178"}}," 'vite'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0"}},"import"),s("span",{style:{color:"#9CDCFE"}}," react"),s("span",{style:{color:"#C586C0"}}," from"),s("span",{style:{color:"#CE9178"}}," '@vitejs/plugin-react'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955"}},"// https://vitejs.dev/config/")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0"}},"export"),s("span",{style:{color:"#C586C0"}}," default"),s("span",{style:{color:"#DCDCAA"}}," defineConfig"),s("span",{style:{color:"#D4D4D4"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},"  plugins:"),s("span",{style:{color:"#D4D4D4"}}," ["),s("span",{style:{color:"#DCDCAA"}},"react"),s("span",{style:{color:"#D4D4D4"}},"()],")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#9CDCFE"}},"  build:"),s("span",{style:{color:"#D4D4D4"}}," {    ")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#9CDCFE"}},"    rollupOptions:"),s("span",{style:{color:"#D4D4D4"}}," {      ")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#9CDCFE"}},"      external:"),s("span",{style:{color:"#D4D4D4"}}," ["),s("span",{style:{color:"#CE9178"}},"'fs'"),s("span",{style:{color:"#D4D4D4"}},", "),s("span",{style:{color:"#CE9178"}},"'nodemailer'"),s("span",{style:{color:"#D4D4D4"}},", "),s("span",{style:{color:"#CE9178"}},"'node-fetch'"),s("span",{style:{color:"#D4D4D4"}},"], ")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#D4D4D4"}},"    }, ")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#D4D4D4"}},"  }, ")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#9CDCFE"}},"  optimizeDeps:"),s("span",{style:{color:"#D4D4D4"}}," {    ")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#9CDCFE"}},"    exclude:"),s("span",{style:{color:"#D4D4D4"}}," ["),s("span",{style:{color:"#CE9178"}},"'fs'"),s("span",{style:{color:"#D4D4D4"}},", "),s("span",{style:{color:"#CE9178"}},"'nodemailer'"),s("span",{style:{color:"#D4D4D4"}},", "),s("span",{style:{color:"#CE9178"}},"'node-fetch'"),s("span",{style:{color:"#D4D4D4"}},"], ")]),l(`
`),s("span",{class:"line diff add"},[s("span",{style:{color:"#D4D4D4"}},"  }, ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"})")])])])],-1),h=s("p",null,[l("Instruct "),s("code",null,"webpack"),l(" not to include the "),s("code",null,"fs"),l(" package in the "),s("code",null,"frontend"),l(" bundle by adding the following JSON to the main section of the project's "),s("code",null,"package.json"),l(" file. "),s("em",null,"package.json")],-1),E=s("div",{class:"language-json"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"json"),s("pre",{class:"shiki dark-plus vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#CE9178"}},'"browser"'),s("span",{style:{color:"#D4D4D4"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'   "jsonwebtoken"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#569CD6"}},"false")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"}")])])])],-1),f=s("ul",null,[s("li",null,"note that you'll need to restart the react/angular dev server.")],-1),g=s("ol",null,[s("li",null,[s("p",null,[l("You'll need to either remove "),s("code",null,"types"),l(" entry in the "),s("code",null,"tsconfig.app.json"),l(" or add the types you need to that types array.")])]),s("li",null,[s("p",null,[l("In "),s("code",null,"angular.json"),l(" you'll need to add an entry called "),s("code",null,"externalDependencies"),l(" to the "),s("code",null,"architect/build/options"),l(" key for your project")]),s("div",{class:"language-json"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"json"),s("pre",{class:"shiki dark-plus vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A9955"}},"// angular.json")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'  "$schema"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"./node_modules/@angular/cli/lib/config/schema.json"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'  "version"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#B5CEA8"}},"1"),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'  "newProjectRoot"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"projects"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'  "projects"'),s("span",{style:{color:"#D4D4D4"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'    "remult-angular-todo"'),s("span",{style:{color:"#D4D4D4"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'      "projectType"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"application"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'      "schematics"'),s("span",{style:{color:"#D4D4D4"}},": {},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'      "root"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'""'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'      "sourceRoot"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"src"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'      "prefix"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"app"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'      "architect"'),s("span",{style:{color:"#D4D4D4"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'        "build"'),s("span",{style:{color:"#D4D4D4"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'          "builder"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"@angular-devkit/build-angular:application"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'          "options"'),s("span",{style:{color:"#D4D4D4"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'            "outputPath"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"dist/remult-angular-todo"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'            "index"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"src/index.html"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'            "browser"'),s("span",{style:{color:"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178"}},'"src/main.ts"'),s("span",{style:{color:"#D4D4D4"}},",")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#9CDCFE"}},'            "externalDependencies"'),s("span",{style:{color:"#D4D4D4"}},": [")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#CE9178"}},'              "fs"')]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#D4D4D4"}},"            ],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE"}},'            "polyfills"'),s("span",{style:{color:"#D4D4D4"}},": [")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CE9178"}},'              "zone.js"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"            ],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955"}},"            //...")])])])])])],-1),m=p("",14),F=s("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/9lWQwAUcKEM?start=1035",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,-1);function b(v,w,A,_,k,x){const a=e("PluginTabsTab"),t=e("PluginTabs");return D(),r("div",null,[i,o(t,null,{default:n(()=>[o(a,{label:"vite"},{default:n(()=>[d,C,u]),_:1}),o(a,{label:"Webpack and Angular version <=16"},{default:n(()=>[h,E,f]),_:1}),o(a,{label:"Angular 17"},{default:n(()=>[g]),_:1})]),_:1}),m,F])}const j=c(y,[["render",b]]);export{P as __pageData,j as default};
