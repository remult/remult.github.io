import{_ as i,c as e,o as a,L as n}from"./chunks/framework.DdPzwmCl.js";const c=JSON.parse('{"title":"Introduction to Mutable Controllers and Backend Methods","description":"","frontmatter":{},"headers":[],"relativePath":"docs/mutable-controllers.md","filePath":"docs/mutable-controllers.md","lastUpdated":1714395765000}'),t={name:"docs/mutable-controllers.md"};function l(r,s,h,o,d,p){return a(),e("div",null,s[0]||(s[0]=[n(`<h1 id="introduction-to-mutable-controllers-and-backend-methods" tabindex="-1">Introduction to Mutable Controllers and Backend Methods <a class="header-anchor" href="#introduction-to-mutable-controllers-and-backend-methods" aria-label="Permalink to &quot;Introduction to Mutable Controllers and Backend Methods&quot;">​</a></h1><p>In web development architectures, mutable controllers offer a convenient way to manage state and facilitate interactions between the client (frontend) and the server (backend). These controllers are useful in scenarios where state needs to be maintained and manipulated across server calls, providing a streamlined approach to handling data.</p><h2 id="overview-of-controller-backend-methods" tabindex="-1">Overview of Controller Backend Methods <a class="header-anchor" href="#overview-of-controller-backend-methods" aria-label="Permalink to &quot;Overview of Controller Backend Methods&quot;">​</a></h2><p>A Controller is a class designed to encapsulate business logic and data processing. When a backend method in a controller is called, it ensures that all field values are preserved and appropriately transferred between the frontend and backend, maintaining state throughout the process.</p><h3 id="defining-a-mutable-controller" tabindex="-1">Defining a Mutable Controller <a class="header-anchor" href="#defining-a-mutable-controller" aria-label="Permalink to &quot;Defining a Mutable Controller&quot;">​</a></h3><p>The mutable controller is typically defined in a shared module, allowing both the frontend and backend to interact with it efficiently. Below is an example of how to define such a controller and a backend method within it.</p><h3 id="explanation-with-data-flow-and-example-usage" tabindex="-1">Explanation with Data Flow and Example Usage <a class="header-anchor" href="#explanation-with-data-flow-and-example-usage" aria-label="Permalink to &quot;Explanation with Data Flow and Example Usage&quot;">​</a></h3><p>This example demonstrates the use of a mutable controller, <code>UserSignInController</code>, to handle the sign-in process for users in a web application. Let&#39;s break down the key components of this example:</p><ol><li><p><strong>Controller Definition</strong>: The <code>UserSignInController</code> is a class annotated with <code>@Controller(&#39;UserSignInController&#39;)</code>, indicating that it serves as a controller for handling user sign-in operations.</p></li><li><p><strong>Data Flow</strong>: When the <code>signInUser</code> backend method is called from the frontend, all the values of the controller fields (<code>email</code>, <code>password</code>, <code>rememberMe</code>) will be sent to the backend for processing. Once the method completes its execution, the updated values (if any) will be sent back to the frontend.</p></li></ol><h3 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-label="Permalink to &quot;Example Usage&quot;">​</a></h3><p>Here&#39;s how you can use the <code>UserSignInController</code> on the frontend to initiate the sign-in process:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes tokyo-night github-light vp-code" style="--shiki-dark:#a9b1d6;--shiki-light:#24292e;--shiki-dark-bg:#1a1b26;--shiki-light-bg:#fff;" tabindex="0"><code><span class="line"><span style="--shiki-dark:#9D7CD8;--shiki-dark-font-style:italic;--shiki-light:#D73A49;--shiki-light-font-style:inherit;">const</span><span style="--shiki-dark:#BB9AF7;--shiki-light:#005CC5;"> signInController</span><span style="--shiki-dark:#89DDFF;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#89DDFF;--shiki-light:#D73A49;"> new</span><span style="--shiki-dark:#7AA2F7;--shiki-light:#6F42C1;"> UserSignInController</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;">signInController</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#7DCFFF;--shiki-light:#24292E;">email</span><span style="--shiki-dark:#89DDFF;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;"> &#39;</span><span style="--shiki-dark:#9ECE6A;--shiki-light:#032F62;">user@example.com</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;">&#39;</span></span>
<span class="line"><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;">signInController</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#7DCFFF;--shiki-light:#24292E;">password</span><span style="--shiki-dark:#89DDFF;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;"> &#39;</span><span style="--shiki-dark:#9ECE6A;--shiki-light:#032F62;">password123</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;">&#39;</span></span>
<span class="line"><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;">signInController</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#7DCFFF;--shiki-light:#24292E;">rememberMe</span><span style="--shiki-dark:#89DDFF;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#FF9E64;--shiki-light:#005CC5;"> true</span><span style="--shiki-dark:#51597D;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;"> // Optional: Set to true if the user wants to remain logged in</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#BB9AF7;--shiki-light:#D73A49;">try</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9D7CD8;--shiki-dark-font-style:italic;--shiki-light:#D73A49;--shiki-light-font-style:inherit;">  const</span><span style="--shiki-dark:#BB9AF7;--shiki-light:#005CC5;"> user</span><span style="--shiki-dark:#89DDFF;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#BB9AF7;--shiki-dark-font-style:italic;--shiki-light:#D73A49;--shiki-light-font-style:inherit;"> await</span><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;"> signInController</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#7AA2F7;--shiki-light:#6F42C1;">signInUser</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;">  console</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#7AA2F7;--shiki-light:#6F42C1;">log</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;">\`</span><span style="--shiki-dark:#9ECE6A;--shiki-light:#032F62;">User signed in: </span><span style="--shiki-dark:#7DCFFF;--shiki-light:#032F62;">\${</span><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;">user</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;">.</span><span style="--shiki-dark:#7DCFFF;--shiki-light:#24292E;">email</span><span style="--shiki-dark:#7DCFFF;--shiki-light:#032F62;">}</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;">\`</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">}</span><span style="--shiki-dark:#BB9AF7;--shiki-light:#D73A49;"> catch</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;">error</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">)</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;">  console</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#7AA2F7;--shiki-light:#6F42C1;">error</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#9ECE6A;--shiki-light:#032F62;">Sign-in failed:</span><span style="--shiki-dark:#89DDFF;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#C0CAF5;--shiki-light:#24292E;"> error</span><span style="--shiki-dark:#89DDFF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#7DCFFF;--shiki-light:#24292E;">message</span><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#9ABDF5;--shiki-light:#24292E;">}</span></span></code></pre></div><p>In this example, we create an instance of <code>UserSignInController</code> and set its <code>email</code>, <code>password</code>, and <code>rememberMe</code> fields with the appropriate values. We then call the <code>signInUser</code> method to initiate the sign-in process. If successful, we log a message indicating that the user has signed in. If an error occurs during the sign-in process, we catch the error and log a corresponding error message.</p><p>This usage demonstrates how to interact with the mutable controller to handle user sign-in operations seamlessly within a web application.</p><h3 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h3><p>Mutable controllers and backend methods provide a powerful mechanism for managing state and handling user interactions in web applications. By encapsulating business logic and data processing within controllers, developers can ensure consistent behavior and efficient data flow between the frontend and backend. With the ability to preserve and transfer field values during server calls, mutable controllers facilitate a smooth and responsive user experience, enhancing the overall functionality and performance of web applications.</p>`,16)]))}const g=i(t,[["render",l]]);export{c as __pageData,g as default};
