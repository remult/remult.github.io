import{_ as a,c as e,o as s,a5 as t}from"./chunks/framework.C7bC4sbb.js";const u=JSON.parse('{"title":"Database","description":"","frontmatter":{"type":"lesson","title":"Database","focus":"/backend/index.ts","template":"after-backend-methods"},"headers":[],"relativePath":"interactive/src/content/tutorial/1-basics/8-Database/1-connection-to-a-database/content.md","filePath":"interactive/src/content/tutorial/1-basics/8-Database/1-connection-to-a-database/content.md","lastUpdated":1723795207000}'),n={name:"interactive/src/content/tutorial/1-basics/8-Database/1-connection-to-a-database/content.md"},o=t(`<h1 id="database" tabindex="-1">Database <a class="header-anchor" href="#database" aria-label="Permalink to &quot;Database&quot;">​</a></h1><p>Up until now the todo app has been using a plain JSON file to store the list of tasks. In this lesson we&#39;ll demontstrate how easy it is to switch to one of the many databases that are supported by remult, in this case Sqlite.</p><blockquote><h5 id="learn-more" tabindex="-1">Learn more <a class="header-anchor" href="#learn-more" aria-label="Permalink to &quot;Learn more&quot;">​</a></h5><p>See the <a href="https://remult.dev/docs/quickstart.html#connecting-a-database" target="_blank" rel="noreferrer">Quickstart</a> article for the (long) list of relational and non-relational databases Remult supports.</p></blockquote><p>In the <code>backend/index.ts</code> file, set the <code>dataProvider</code> to ues <code>sqlite</code></p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#C586C0;">export</span><span style="color:#569CD6;"> const</span><span style="color:#4FC1FF;"> api</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">remultExpress</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#9CDCFE;">  entities:</span><span style="color:#D4D4D4;"> [</span><span style="color:#9CDCFE;">Task</span><span style="color:#D4D4D4;">],</span></span>
<span class="line"><span style="color:#9CDCFE;">  controllers:</span><span style="color:#D4D4D4;"> [</span><span style="color:#9CDCFE;">TasksController</span><span style="color:#D4D4D4;">],</span></span>
<span class="line highlighted"><span style="color:#9CDCFE;">  dataProvider:</span><span style="color:#569CD6;"> new</span><span style="color:#DCDCAA;"> SqlDatabase</span><span style="color:#D4D4D4;">(</span></span>
<span class="line highlighted"><span style="color:#569CD6;">    new</span><span style="color:#DCDCAA;"> Sqlite3DataProvider</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">new</span><span style="color:#9CDCFE;"> sqlite3</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Database</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;.database.sqlite&#39;</span><span style="color:#D4D4D4;">)),</span></span>
<span class="line highlighted"><span style="color:#D4D4D4;">  ),</span></span>
<span class="line"><span style="color:#6A9955;">  //...</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span></code></pre></div><p>And that&#39;s it, now you use <code>sqlite</code> as the database.</p><blockquote><h5 id="don-t-believe-it" tabindex="-1">Don&#39;t believe it? <a class="header-anchor" href="#don-t-believe-it" aria-label="Permalink to &quot;Don&#39;t believe it?&quot;">​</a></h5><p>You can see the actual sql&#39;s executed by remult, by adding the following line</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">SqlDatabase</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">LogToConsole</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;oneLiner&#39;</span></span></code></pre></div><p>And click on <code>Toggle Terminal</code> button to see the sql&#39;s that execute with the operations you perform Just don&#39;t forget to turn it off once you&#39;re done, to improve performance</p></blockquote>`,7),l=[o];function p(c,r,i,d,D,h){return s(),e("div",null,l)}const y=a(n,[["render",p]]);export{u as __pageData,y as default};
