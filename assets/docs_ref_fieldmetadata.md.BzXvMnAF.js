import{_ as a,c as e,o as s,a5 as l}from"./chunks/framework.ChN904aB.js";const y=JSON.parse('{"title":"FieldMetadata","description":"","frontmatter":{},"headers":[],"relativePath":"docs/ref_fieldmetadata.md","filePath":"docs/ref_fieldmetadata.md","lastUpdated":1739657426000}'),n={name:"docs/ref_fieldmetadata.md"},o=l(`<h1 id="fieldmetadata" tabindex="-1">FieldMetadata <a class="header-anchor" href="#fieldmetadata" aria-label="Permalink to &quot;FieldMetadata&quot;">​</a></h1><p>Metadata for a <code>Field</code>, this metadata can be used in the user interface to provide a richer UI experience</p><h2 id="valuetype" tabindex="-1">valueType <a class="header-anchor" href="#valuetype" aria-label="Permalink to &quot;valueType&quot;">​</a></h2><p>The field&#39;s value type (number,string etc...)</p><h2 id="key" tabindex="-1">key <a class="header-anchor" href="#key" aria-label="Permalink to &quot;key&quot;">​</a></h2><p>The field&#39;s member name in an object.</p><h4 id="example" tabindex="-1">example: <a class="header-anchor" href="#example" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#DCDCAA;">repo</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Task</span><span style="color:#D4D4D4;">).</span><span style="color:#9CDCFE;">metadata</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">fields</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">title</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">key</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#6A9955;">// result: title</span></span></code></pre></div><h2 id="caption" tabindex="-1">caption <a class="header-anchor" href="#caption" aria-label="Permalink to &quot;caption&quot;">​</a></h2><p>A human readable caption for the field. Can be used to achieve a consistent caption for a field throughout the app</p><h4 id="example-1" tabindex="-1">example: <a class="header-anchor" href="#example-1" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">&lt;</span><span style="color:#9CDCFE;">input</span><span style="color:#9CDCFE;"> placeholder</span><span style="color:#D4D4D4;">={taskRepo.metadata.fields.title.</span><span style="color:#9CDCFE;">caption</span><span style="color:#D4D4D4;">}/&gt;</span></span></code></pre></div><h4 id="see" tabindex="-1">see: <a class="header-anchor" href="#see" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>FieldOptions#caption for configuration details</p><h2 id="dbname" tabindex="-1">dbName <a class="header-anchor" href="#dbname" aria-label="Permalink to &quot;dbName&quot;">​</a></h2><p>The name of the column in the database that holds the data for this field. If no name is set, the key will be used instead.</p><h4 id="example-2" tabindex="-1">example: <a class="header-anchor" href="#example-2" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#9CDCFE;">Fields</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">string</span><span style="color:#D4D4D4;">({ </span><span style="color:#9CDCFE;">dbName:</span><span style="color:#CE9178;"> &#39;userName&#39;</span><span style="color:#D4D4D4;">})</span></span>
<span class="line"><span style="color:#9CDCFE;">userName</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&#39;&#39;</span></span></code></pre></div><h4 id="see-1" tabindex="-1">see: <a class="header-anchor" href="#see-1" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>FieldOptions#dbName for configuration details</p><h2 id="options" tabindex="-1">options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;options&quot;">​</a></h2><p>The options sent to this field&#39;s decorator</p><h2 id="inputtype" tabindex="-1">inputType <a class="header-anchor" href="#inputtype" aria-label="Permalink to &quot;inputType&quot;">​</a></h2><p>The <code>inputType</code> relevant for this field, determined by the options sent to it&#39;s decorator and the valueConverter in these options</p><h2 id="allownull" tabindex="-1">allowNull <a class="header-anchor" href="#allownull" aria-label="Permalink to &quot;allowNull&quot;">​</a></h2><p>if null is allowed for this field</p><h4 id="see-2" tabindex="-1">see: <a class="header-anchor" href="#see-2" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>FieldOptions#allowNull for configuration details</p><h2 id="target" tabindex="-1">target <a class="header-anchor" href="#target" aria-label="Permalink to &quot;target&quot;">​</a></h2><p>The class that contains this field</p><h4 id="example-3" tabindex="-1">example: <a class="header-anchor" href="#example-3" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">Task</span><span style="color:#D4D4D4;"> == </span><span style="color:#DCDCAA;">repo</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Task</span><span style="color:#D4D4D4;">).</span><span style="color:#9CDCFE;">metadata</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">fields</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">title</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">target</span><span style="color:#6A9955;"> //will return true</span></span></code></pre></div><h2 id="getdbname" tabindex="-1">getDbName <a class="header-anchor" href="#getdbname" aria-label="Permalink to &quot;getDbName&quot;">​</a></h2><ul><li><strong>getDbName</strong></li></ul><h2 id="isserverexpression" tabindex="-1">isServerExpression <a class="header-anchor" href="#isserverexpression" aria-label="Permalink to &quot;isServerExpression&quot;">​</a></h2><p>Indicates if this field is based on a server express</p><h2 id="dbreadonly" tabindex="-1">dbReadOnly <a class="header-anchor" href="#dbreadonly" aria-label="Permalink to &quot;dbReadOnly&quot;">​</a></h2><p>indicates that this field should only be included in select statement, and excluded from update or insert. useful for db generated ids etc...</p><h4 id="see-3" tabindex="-1">see: <a class="header-anchor" href="#see-3" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>FieldOptions#dbReadOnly for configuration details</p><h2 id="valueconverter" tabindex="-1">valueConverter <a class="header-anchor" href="#valueconverter" aria-label="Permalink to &quot;valueConverter&quot;">​</a></h2><p>the Value converter for this field</p><h2 id="displayvalue" tabindex="-1">displayValue <a class="header-anchor" href="#displayvalue" aria-label="Permalink to &quot;displayValue&quot;">​</a></h2><p>Get the display value for a specific item</p><h4 id="see-4" tabindex="-1">see: <a class="header-anchor" href="#see-4" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>FieldOptions#displayValue for configuration details</p><h4 id="example-4" tabindex="-1">example: <a class="header-anchor" href="#example-4" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">repo</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">fields</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">createDate</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">displayValue</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">task</span><span style="color:#D4D4D4;">) </span><span style="color:#6A9955;">//will display the date as defined in the \`displayValue\` option defined for it.</span></span></code></pre></div><p>Arguments:</p><ul><li><strong>item</strong></li></ul><h2 id="apiupdateallowed" tabindex="-1">apiUpdateAllowed <a class="header-anchor" href="#apiupdateallowed" aria-label="Permalink to &quot;apiUpdateAllowed&quot;">​</a></h2><p>Determines if the current user is allowed to update a specific entity instance.</p><h4 id="example-5" tabindex="-1">example: <a class="header-anchor" href="#example-5" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#6A9955;">// Check if the current user is allowed to update a specific task</span></span>
<span class="line"><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#DCDCAA;">repo</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Task</span><span style="color:#D4D4D4;">).</span><span style="color:#9CDCFE;">metadata</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">apiUpdateAllowed</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">task</span><span style="color:#D4D4D4;">)){</span></span>
<span class="line"><span style="color:#6A9955;">  // Allow user to edit the entity</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div><h4 id="see-5" tabindex="-1">see: <a class="header-anchor" href="#see-5" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>FieldOptions#allowApiUpdate for configuration details</p><h4 id="returns" tabindex="-1">returns: <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;returns:&quot;">​</a></h4><p>True if the update is allowed.</p><p>Arguments:</p><ul><li><strong>item</strong> - Partial entity instance to check permissions against.</li></ul><h2 id="includedinapi" tabindex="-1">includedInApi <a class="header-anchor" href="#includedinapi" aria-label="Permalink to &quot;includedInApi&quot;">​</a></h2><p>Determines if a specific entity field should be included in the API based on the current user&#39;s permissions. This method checks visibility permissions for a field within a partial entity instance.</p><h4 id="example-6" tabindex="-1">example: <a class="header-anchor" href="#example-6" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#569CD6;">const</span><span style="color:#4FC1FF;"> employeeRepo</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">remult</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">repo</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Employee</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#6A9955;">// Determine if the &#39;salary&#39; field of an employee should be visible in the API for the current user</span></span>
<span class="line"><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">employeeRepo</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">fields</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">salary</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">includedInApi</span><span style="color:#D4D4D4;">({ </span><span style="color:#9CDCFE;">id:</span><span style="color:#B5CEA8;"> 123</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">name:</span><span style="color:#CE9178;"> &#39;John Doe&#39;</span><span style="color:#D4D4D4;"> })) {</span></span>
<span class="line"><span style="color:#6A9955;">  // The salary field is included in the API</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div><h4 id="see-6" tabindex="-1">see: <a class="header-anchor" href="#see-6" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>FieldOptions#includeInApi for configuration details</p><h4 id="returns-1" tabindex="-1">returns: <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;returns:&quot;">​</a></h4><p>True if the field is included in the API.</p><p>Arguments:</p><ul><li><strong>item</strong> - The partial entity instance used to evaluate field visibility.</li></ul><h2 id="toinput" tabindex="-1">toInput <a class="header-anchor" href="#toinput" aria-label="Permalink to &quot;toInput&quot;">​</a></h2><p>Adapts the value for usage with html input</p><h4 id="example-7" tabindex="-1">example: <a class="header-anchor" href="#example-7" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#9CDCFE;">Fields</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">dateOnly</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#9CDCFE;">birthDate</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">new</span><span style="color:#DCDCAA;"> Date</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">1976</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">5</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">16</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#6A9955;">//...</span></span>
<span class="line"><span style="color:#9CDCFE;">input</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">value</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">repo</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">fields</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">birthDate</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">toInput</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">person</span><span style="color:#D4D4D4;">) </span><span style="color:#6A9955;">// will return &#39;1976-06-16&#39;</span></span></code></pre></div><h4 id="see-7" tabindex="-1">see: <a class="header-anchor" href="#see-7" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>ValueConverter#toInput for configuration details</p><p>Arguments:</p><ul><li><strong>value</strong></li><li><strong>inputType</strong></li></ul><h2 id="frominput" tabindex="-1">fromInput <a class="header-anchor" href="#frominput" aria-label="Permalink to &quot;fromInput&quot;">​</a></h2><p>Adapts the value for usage with html input</p><h4 id="example-8" tabindex="-1">example: <a class="header-anchor" href="#example-8" aria-label="Permalink to &quot;example:&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#9CDCFE;">Fields</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">dateOnly</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#9CDCFE;">birthDate</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">new</span><span style="color:#DCDCAA;"> Date</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">1976</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">5</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">16</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#6A9955;">//...</span></span>
<span class="line"><span style="color:#9CDCFE;">person</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">birthDate</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">repo</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">fields</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">birthDate</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">fromInput</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">personFormState</span><span style="color:#D4D4D4;">) </span><span style="color:#6A9955;">// will return Date</span></span></code></pre></div><h4 id="see-8" tabindex="-1">see: <a class="header-anchor" href="#see-8" aria-label="Permalink to &quot;see:&quot;">​</a></h4><p>ValueConverter#fromInput for configuration details</p><p>Arguments:</p><ul><li><strong>inputValue</strong></li><li><strong>inputType</strong></li></ul>`,86),t=[o];function p(r,i,c,d,D,h){return s(),e("div",null,t)}const C=a(n,[["render",p]]);export{y as __pageData,C as default};
